{"ast":null,"code":"var _jsxFileName = \"C:\\\\test\\\\create-react-app\\\\src\\\\views\\\\utilities\\\\InputScoreCSB03.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Table, Typography, TableBody, TableCell, TableContainer, TableHead, TableRow, Button, Dialog, DialogTitle, DialogContent, DialogActions, Paper, Grid, TextField } from '@mui/material';\nimport axios from 'axios';\nimport { gridSpacing } from 'store/constant';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction InputScoreCSB03() {\n  _s();\n  const [data, setData] = useState([{\n    id: 1,\n    name: 'การออกแบบหรือแนวคิด',\n    fullscores: '10',\n    score: ''\n  }, {\n    id: 2,\n    name: 'วิธีการ/การดำเนินงาน',\n    fullscores: '20',\n    score: ''\n  }, {\n    id: 3,\n    name: 'ความสมบูรณ์ของผลงาน',\n    fullscores: '20',\n    score: ''\n  }, {\n    id: 4,\n    name: 'เนื้อหาและรูปแบบของปริญญานิพนธ์',\n    fullscores: '10',\n    score: ''\n  }, {\n    id: 5,\n    name: 'การนำเสนอโครงงาน',\n    fullscores: '10',\n    score: ''\n  }, {\n    id: 6,\n    name: 'การนำผลงานไปใช้ประโยชน์',\n    fullscores: '5',\n    score: ''\n  }, {\n    id: 7,\n    name: 'สรุป/วิจารณ์/การพัฒนาต่อในอนาคต',\n    fullscores: '5',\n    score: ''\n  }, {\n    id: 8,\n    name: 'คะแนนรวม',\n    fullscores: '80',\n    score: ''\n  }]);\n  const [projects, setProjects] = useState([]);\n  const [selectedProject, setSelectedProject] = useState(null);\n  const [openPopup, setOpenPopup] = useState(false);\n  const [examResults, setExamResults] = useState([]);\n  useEffect(() => {\n    const fetchExamResults = async () => {\n      try {\n        const response = await axios.get('http://localhost:9999/Exam_results');\n        if (response.data && Array.isArray(response.data)) {\n          setExamResults(response.data);\n        }\n      } catch (error) {\n        console.error('Error fetching exam results:', error);\n      }\n    };\n    fetchExamResults();\n  }, []);\n  useEffect(() => {\n    const fetchProjects = async () => {\n      try {\n        // Fetch projects\n        const response = await axios.get('http://localhost:9999/Project');\n        const projectsData = response.data;\n\n        // Fetch exam results\n        const examResultsResponse = await axios.get('http://localhost:9999/Exam_results');\n        const examResultsData = examResultsResponse.data;\n        if (projectsData && examResultsData) {\n          // Filter projects\n          const filteredProjects = projectsData.filter(project => {\n            const examResult = examResultsData.find(result => result.Er_Pname === project.P_name);\n            return examResult && examResult.Er_CSB01_status === 'ผ่าน' && examResult.Er_CSB02_status === 'ผ่าน' && !examResult.Er_CSB03_status;\n          });\n          setProjects(filteredProjects);\n        }\n      } catch (error) {\n        console.error('Error fetching projects or exam results:', error);\n      }\n    };\n    fetchProjects();\n  }, [examResults]);\n  const handleLinkClick = index => {\n    setSelectedProject(projects[index]);\n    setOpenPopup(true);\n  };\n  const handleSavePopup = async () => {\n    var _data$find;\n    const totalScore = parseInt(((_data$find = data.find(item => item.id === 8)) === null || _data$find === void 0 ? void 0 : _data$find.score) || '0', 10);\n    try {\n      const existingResult = examResults.find(result => result.Er_Pname === (selectedProject === null || selectedProject === void 0 ? void 0 : selectedProject.P_name));\n      if (existingResult) {\n        // ตรวจสอบข้อมูลที่จะส่งไปใน PUT request\n        console.log('Data to be sent:', {\n          _id: existingResult._id,\n          Er_Pname: selectedProject === null || selectedProject === void 0 ? void 0 : selectedProject.P_name,\n          Er_CSB01: existingResult.Er_CSB01,\n          Er_CSB02: existingResult.Er_CSB02,\n          Er_CSB03: totalScore,\n          Er_CSB01_status: existingResult.Er_CSB01_status,\n          Er_CSB02_status: existingResult.Er_CSB02_status,\n          Er_CSB03_status: totalScore >= 50 ? 'ผ่าน' : 'ไม่ผ่าน'\n        });\n        const response = await axios.put(`http://localhost:9999/Exam_results/${existingResult._id}`, {\n          Er_Pname: selectedProject === null || selectedProject === void 0 ? void 0 : selectedProject.P_name,\n          Er_CSB01: existingResult.Er_CSB01,\n          Er_CSB02: existingResult.Er_CSB02,\n          Er_CSB03: totalScore,\n          Er_CSB01_status: existingResult.Er_CSB01_status,\n          Er_CSB02_status: existingResult.Er_CSB02_status,\n          Er_CSB03_status: totalScore >= 50 ? 'ผ่าน' : 'ไม่ผ่าน'\n        });\n        if (response.status === 200) {\n          console.log('Score updated successfully!');\n          setOpenPopup(false);\n        } else {\n          console.error('Failed to update score:', response);\n        }\n      } else {\n        console.error('No existing result found for the project');\n      }\n    } catch (error) {\n      console.error('Error:', error.response ? error.response.data : error.message);\n    }\n  };\n  const handleClosePopup = () => {\n    setOpenPopup(false);\n  };\n  const handleRedRow = index => {\n    const updatedProjects = projects.map((project, i) => i === index ? {\n      ...project,\n      isRed: true\n    } : project);\n    setProjects(updatedProjects);\n  };\n  const handleDisableRow = index => {\n    const updatedProjects = projects.map((project, i) => i === index ? {\n      ...project,\n      isDisabled: true\n    } : project);\n    setProjects(updatedProjects);\n  };\n  const handleChangeScore = (id, value) => {\n    const isValidInput = input => /^[0-9]*$/.test(input);\n    setData(prevData => {\n      const updatedData = prevData.map(item => {\n        if (item.id === id) {\n          const numericValue = Number(value);\n          if (!isValidInput(value) || numericValue < 0 || numericValue > Number(item.fullscores) || isNaN(numericValue)) {\n            return item;\n          }\n          return {\n            ...item,\n            score: value\n          };\n        }\n        return item;\n      });\n      const totalScore = updatedData.reduce((acc, item) => {\n        if (item.id !== 8) {\n          return acc + Number(item.score || 0);\n        }\n        return acc;\n      }, 0);\n      return updatedData.map(item => {\n        if (item.id === 8) {\n          return {\n            ...item,\n            score: totalScore.toString()\n          };\n        }\n        return item;\n      });\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(Paper, {\n    style: {\n      padding: 16\n    },\n    children: [/*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      spacing: gridSpacing,\n      children: /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h1\",\n          children: \"\\u0E1B\\u0E23\\u0E30\\u0E40\\u0E21\\u0E34\\u0E19\\u0E01\\u0E32\\u0E23\\u0E2A\\u0E2D\\u0E1A\\u0E1B\\u0E49\\u0E2D\\u0E07\\u0E01\\u0E31\\u0E19\\u0E42\\u0E04\\u0E23\\u0E07\\u0E07\\u0E32\\u0E19\\u0E1E\\u0E34\\u0E40\\u0E28\\u0E29\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TableContainer, {\n          children: /*#__PURE__*/_jsxDEV(Table, {\n            children: [/*#__PURE__*/_jsxDEV(TableHead, {\n              children: /*#__PURE__*/_jsxDEV(TableRow, {\n                children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                  children: \"\\u0E25\\u0E33\\u0E14\\u0E31\\u0E1A\\u0E17\\u0E35\\u0E48\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 178,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  children: \"\\u0E0A\\u0E37\\u0E48\\u0E2D\\u0E42\\u0E04\\u0E23\\u0E07\\u0E07\\u0E32\\u0E19\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 179,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  children: \"\\u0E1B\\u0E23\\u0E30\\u0E40\\u0E21\\u0E34\\u0E19\\u0E01\\u0E32\\u0E23\\u0E2A\\u0E2D\\u0E1A\\u0E42\\u0E04\\u0E23\\u0E07\\u0E07\\u0E32\\u0E19\\u0E1E\\u0E34\\u0E40\\u0E28\\u0E29\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 180,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  children: \"\\u0E44\\u0E21\\u0E48\\u0E1B\\u0E23\\u0E30\\u0E2A\\u0E07\\u0E04\\u0E4C\\u0E25\\u0E07\\u0E04\\u0E30\\u0E41\\u0E19\\u0E19\\u0E2A\\u0E2D\\u0E1A\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 181,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  children: \"\\u0E44\\u0E21\\u0E48\\u0E40\\u0E02\\u0E49\\u0E32\\u0E1B\\u0E23\\u0E30\\u0E40\\u0E21\\u0E34\\u0E19\\u0E01\\u0E32\\u0E23\\u0E2A\\u0E2D\\u0E1A\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 182,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 177,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 176,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n              children: projects.map((project, index) => /*#__PURE__*/_jsxDEV(TableRow, {\n                children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                  children: index + 1\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 188,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  children: project.P_name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 189,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  children: /*#__PURE__*/_jsxDEV(Button, {\n                    onClick: () => handleLinkClick(index),\n                    variant: \"outlined\",\n                    disabled: project.isDisabled,\n                    children: \"\\u0E1B\\u0E23\\u0E30\\u0E40\\u0E21\\u0E34\\u0E19\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 191,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 190,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  children: /*#__PURE__*/_jsxDEV(Button, {\n                    onClick: () => handleDisableRow(index),\n                    variant: \"outlined\",\n                    disabled: project.isDisabled || project.isRed,\n                    children: \"\\u0E44\\u0E21\\u0E48\\u0E1B\\u0E23\\u0E30\\u0E2A\\u0E07\\u0E04\\u0E4C\\u0E25\\u0E07\\u0E04\\u0E30\\u0E41\\u0E19\\u0E19\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 200,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 199,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  children: /*#__PURE__*/_jsxDEV(Button, {\n                    onClick: () => handleRedRow(index),\n                    variant: \"outlined\",\n                    disabled: project.isDisabled || project.isRed,\n                    children: \"\\u0E44\\u0E21\\u0E48\\u0E40\\u0E02\\u0E49\\u0E32\\u0E1B\\u0E23\\u0E30\\u0E40\\u0E21\\u0E34\\u0E19\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 209,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 208,\n                  columnNumber: 21\n                }, this)]\n              }, project.P_id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 187,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 185,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 7\n    }, this), selectedProject && /*#__PURE__*/_jsxDEV(Dialog, {\n      open: openPopup,\n      onClose: handleClosePopup,\n      maxWidth: \"lg\",\n      fullWidth: true,\n      children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n        children: \"\\u0E23\\u0E32\\u0E22\\u0E25\\u0E30\\u0E40\\u0E2D\\u0E35\\u0E22\\u0E14\\u0E42\\u0E04\\u0E23\\u0E07\\u0E07\\u0E32\\u0E19\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h3\",\n          children: [\"\\u0E0A\\u0E37\\u0E48\\u0E2D\\u0E42\\u0E04\\u0E23\\u0E07\\u0E07\\u0E32\\u0E19: \", selectedProject.P_name]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          children: [\"\\u0E19\\u0E31\\u0E01\\u0E40\\u0E23\\u0E35\\u0E22\\u0E19\\u0E04\\u0E19\\u0E17\\u0E35\\u0E48 1: \", selectedProject.P_S1]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          children: [\"\\u0E19\\u0E31\\u0E01\\u0E40\\u0E23\\u0E35\\u0E22\\u0E19\\u0E04\\u0E19\\u0E17\\u0E35\\u0E48 2: \", selectedProject.P_S2]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          children: [\"\\u0E17\\u0E35\\u0E48\\u0E1B\\u0E23\\u0E36\\u0E01\\u0E29\\u0E32: \", selectedProject.P_T]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h2\",\n          children: \"\\u0E15\\u0E32\\u0E23\\u0E32\\u0E07\\u0E25\\u0E07\\u0E04\\u0E30\\u0E41\\u0E19\\u0E19\\u0E2A\\u0E33\\u0E2B\\u0E23\\u0E31\\u0E1A\\u0E01\\u0E23\\u0E23\\u0E21\\u0E01\\u0E32\\u0E23\\u0E2A\\u0E2D\\u0E1A\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(TableContainer, {\n          component: Paper,\n          children: /*#__PURE__*/_jsxDEV(Table, {\n            children: [/*#__PURE__*/_jsxDEV(TableHead, {\n              children: /*#__PURE__*/_jsxDEV(TableRow, {\n                children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                  children: \"\\u0E25\\u0E33\\u0E14\\u0E31\\u0E1A\\u0E17\\u0E35\\u0E48\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 238,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  children: \"\\u0E40\\u0E01\\u0E13\\u0E11\\u0E4C\\u0E1E\\u0E34\\u0E08\\u0E32\\u0E23\\u0E13\\u0E32\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 239,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  children: \"\\u0E04\\u0E30\\u0E40\\u0E40\\u0E19\\u0E19\\u0E40\\u0E15\\u0E47\\u0E21\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 240,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  children: \"\\u0E04\\u0E30\\u0E40\\u0E40\\u0E19\\u0E19\\u0E17\\u0E35\\u0E48\\u0E44\\u0E14\\u0E49\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 241,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 237,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 236,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n              children: data.map(item => /*#__PURE__*/_jsxDEV(TableRow, {\n                children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                  children: item.id\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 247,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  children: item.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 248,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  children: item.fullscores\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 249,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  children: /*#__PURE__*/_jsxDEV(TextField, {\n                    value: item.score,\n                    onChange: e => handleChangeScore(item.id, e.target.value),\n                    disabled: item.name === 'คะแนนรวม',\n                    type: \"number\",\n                    fullWidth: true,\n                    margin: \"none\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 251,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 250,\n                  columnNumber: 23\n                }, this)]\n              }, item.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 246,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 244,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 235,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          onClick: handleSavePopup,\n          color: \"primary\",\n          variant: \"contained\",\n          children: \"\\u0E1A\\u0E31\\u0E19\\u0E17\\u0E36\\u0E01\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 267,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: handleClosePopup,\n          color: \"secondary\",\n          variant: \"outlined\",\n          children: \"\\u0E1B\\u0E34\\u0E14\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 270,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 170,\n    columnNumber: 5\n  }, this);\n}\n_s(InputScoreCSB03, \"PvsIA6rWPxytcULauKro4kA5FHA=\");\n_c = InputScoreCSB03;\nexport default InputScoreCSB03;\nvar _c;\n$RefreshReg$(_c, \"InputScoreCSB03\");","map":{"version":3,"names":["React","useState","useEffect","Table","Typography","TableBody","TableCell","TableContainer","TableHead","TableRow","Button","Dialog","DialogTitle","DialogContent","DialogActions","Paper","Grid","TextField","axios","gridSpacing","jsxDEV","_jsxDEV","InputScoreCSB03","_s","data","setData","id","name","fullscores","score","projects","setProjects","selectedProject","setSelectedProject","openPopup","setOpenPopup","examResults","setExamResults","fetchExamResults","response","get","Array","isArray","error","console","fetchProjects","projectsData","examResultsResponse","examResultsData","filteredProjects","filter","project","examResult","find","result","Er_Pname","P_name","Er_CSB01_status","Er_CSB02_status","Er_CSB03_status","handleLinkClick","index","handleSavePopup","_data$find","totalScore","parseInt","item","existingResult","log","_id","Er_CSB01","Er_CSB02","Er_CSB03","put","status","message","handleClosePopup","handleRedRow","updatedProjects","map","i","isRed","handleDisableRow","isDisabled","handleChangeScore","value","isValidInput","input","test","prevData","updatedData","numericValue","Number","isNaN","reduce","acc","toString","style","padding","children","container","spacing","xs","variant","fileName","_jsxFileName","lineNumber","columnNumber","onClick","disabled","P_id","open","onClose","maxWidth","fullWidth","P_S1","P_S2","P_T","component","onChange","e","target","type","margin","color","_c","$RefreshReg$"],"sources":["C:/test/create-react-app/src/views/utilities/InputScoreCSB03.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Table, Typography, TableBody, TableCell, TableContainer, TableHead, TableRow, Button, Dialog, DialogTitle, DialogContent, DialogActions, Paper, Grid, TextField } from '@mui/material';\nimport axios from 'axios';\nimport { gridSpacing } from 'store/constant';\n\nfunction InputScoreCSB03() {\n  const [data, setData] = useState([\n    { id: 1, name: 'การออกแบบหรือแนวคิด', fullscores: '10', score: '' },\n    { id: 2, name: 'วิธีการ/การดำเนินงาน', fullscores: '20', score: '' },\n    { id: 3, name: 'ความสมบูรณ์ของผลงาน', fullscores: '20', score: '' },\n    { id: 4, name: 'เนื้อหาและรูปแบบของปริญญานิพนธ์', fullscores: '10', score: '' },\n    { id: 5, name: 'การนำเสนอโครงงาน', fullscores: '10', score: '' },\n    { id: 6, name: 'การนำผลงานไปใช้ประโยชน์', fullscores: '5', score: '' },\n    { id: 7, name: 'สรุป/วิจารณ์/การพัฒนาต่อในอนาคต', fullscores: '5', score: '' },\n    { id: 8, name: 'คะแนนรวม', fullscores: '80', score: '' },\n  ]);\n\n  const [projects, setProjects] = useState([]);\n  const [selectedProject, setSelectedProject] = useState(null);\n  const [openPopup, setOpenPopup] = useState(false);\n  const [examResults, setExamResults] = useState([]);\n\n  useEffect(() => {\n    const fetchExamResults = async () => {\n      try {\n        const response = await axios.get('http://localhost:9999/Exam_results');\n        if (response.data && Array.isArray(response.data)) {\n          setExamResults(response.data);\n        }\n      } catch (error) {\n        console.error('Error fetching exam results:', error);\n      }\n    };\n\n    fetchExamResults();\n  }, []);\n\n  useEffect(() => {\n    const fetchProjects = async () => {\n      try {\n        // Fetch projects\n        const response = await axios.get('http://localhost:9999/Project');\n        const projectsData = response.data;\n  \n        // Fetch exam results\n        const examResultsResponse = await axios.get('http://localhost:9999/Exam_results');\n        const examResultsData = examResultsResponse.data;\n  \n        if (projectsData && examResultsData) {\n          // Filter projects\n          const filteredProjects = projectsData.filter(project => {\n            const examResult = examResultsData.find(result => result.Er_Pname === project.P_name);\n            return examResult &&\n              examResult.Er_CSB01_status === 'ผ่าน' && examResult.Er_CSB02_status === 'ผ่าน' && !examResult.Er_CSB03_status;\n          });\n  \n          setProjects(filteredProjects);\n        }\n      } catch (error) {\n        console.error('Error fetching projects or exam results:', error);\n      }\n    };\n  \n    fetchProjects();\n  }, [examResults]);\n\n  const handleLinkClick = (index) => {\n    setSelectedProject(projects[index]);\n    setOpenPopup(true);\n  };\n\n  const handleSavePopup = async () => {\n    const totalScore = parseInt(data.find(item => item.id === 8)?.score || '0', 10);\n\n    try {\n        const existingResult = examResults.find(result => result.Er_Pname === selectedProject?.P_name);\n\n        if (existingResult) {\n            // ตรวจสอบข้อมูลที่จะส่งไปใน PUT request\n            console.log('Data to be sent:', {\n                _id : existingResult._id,\n                Er_Pname: selectedProject?.P_name,\n                Er_CSB01: existingResult.Er_CSB01,\n                Er_CSB02: existingResult.Er_CSB02,\n                Er_CSB03: totalScore,\n                Er_CSB01_status: existingResult.Er_CSB01_status,\n                Er_CSB02_status: existingResult.Er_CSB02_status,\n                Er_CSB03_status: totalScore >= 50 ? 'ผ่าน' : 'ไม่ผ่าน',\n            });\n\n            const response = await axios.put(`http://localhost:9999/Exam_results/${existingResult._id}`, {\n                Er_Pname: selectedProject?.P_name,\n                Er_CSB01: existingResult.Er_CSB01,\n                Er_CSB02: existingResult.Er_CSB02,\n                Er_CSB03: totalScore,\n                Er_CSB01_status: existingResult.Er_CSB01_status,\n                Er_CSB02_status: existingResult.Er_CSB02_status,\n                Er_CSB03_status: totalScore >= 50 ? 'ผ่าน' : 'ไม่ผ่าน',\n            });\n\n            if (response.status === 200) {\n                console.log('Score updated successfully!');\n                setOpenPopup(false);\n            } else {\n                console.error('Failed to update score:', response);\n            }\n        } else {\n            console.error('No existing result found for the project');\n        }\n    } catch (error) {\n        console.error('Error:', error.response ? error.response.data : error.message);\n    }\n};\n\n  const handleClosePopup = () => {\n    setOpenPopup(false);\n  };\n\n  const handleRedRow = (index) => {\n    const updatedProjects = projects.map((project, i) =>\n      i === index ? { ...project, isRed: true } : project\n    );\n    setProjects(updatedProjects);\n  };\n\n  const handleDisableRow = (index) => {\n    const updatedProjects = projects.map((project, i) =>\n      i === index ? { ...project, isDisabled: true } : project\n    );\n    setProjects(updatedProjects);\n  };\n\n  const handleChangeScore = (id, value) => {\n    const isValidInput = (input) => /^[0-9]*$/.test(input);\n\n    setData((prevData) => {\n      const updatedData = prevData.map((item) => {\n        if (item.id === id) {\n          const numericValue = Number(value);\n          if (\n            !isValidInput(value) ||\n            numericValue < 0 ||\n            numericValue > Number(item.fullscores) ||\n            isNaN(numericValue)\n          ) {\n            return item;\n          }\n          return { ...item, score: value };\n        }\n        return item;\n      });\n\n      const totalScore = updatedData.reduce((acc, item) => {\n        if (item.id !== 8) {\n          return acc + Number(item.score || 0);\n        }\n        return acc;\n      }, 0);\n\n      return updatedData.map((item) => {\n        if (item.id === 8) {\n          return { ...item, score: totalScore.toString() };\n        }\n        return item;\n      });\n    });\n  };\n\n  return (\n    <Paper style={{ padding: 16 }}>\n      <Grid container spacing={gridSpacing}>\n        <Grid item xs={12}>\n          <Typography variant=\"h1\">ประเมินการสอบป้องกันโครงงานพิเศษ</Typography>\n          <TableContainer>\n            <Table>\n              <TableHead>\n                <TableRow>\n                  <TableCell>ลำดับที่</TableCell>\n                  <TableCell>ชื่อโครงงาน</TableCell>\n                  <TableCell>ประเมินการสอบโครงงานพิเศษ</TableCell>\n                  <TableCell>ไม่ประสงค์ลงคะแนนสอบ</TableCell>\n                  <TableCell>ไม่เข้าประเมินการสอบ</TableCell>\n                </TableRow>\n              </TableHead>\n              <TableBody>\n                {projects.map((project, index) => (\n                  <TableRow key={project.P_id}>\n                    <TableCell>{index + 1}</TableCell>\n                    <TableCell>{project.P_name}</TableCell>\n                    <TableCell>\n                      <Button\n                        onClick={() => handleLinkClick(index)}\n                        variant=\"outlined\"\n                        disabled={project.isDisabled}\n                      >\n                        ประเมิน\n                      </Button>\n                    </TableCell>\n                    <TableCell>\n                      <Button\n                        onClick={() => handleDisableRow(index)}\n                        variant=\"outlined\"\n                        disabled={project.isDisabled || project.isRed}\n                      >\n                        ไม่ประสงค์ลงคะแนน\n                      </Button>\n                    </TableCell>\n                    <TableCell>\n                      <Button\n                        onClick={() => handleRedRow(index)}\n                        variant=\"outlined\"\n                        disabled={project.isDisabled || project.isRed}\n                      >\n                        ไม่เข้าประเมิน\n                      </Button>\n                    </TableCell>\n                  </TableRow>\n                ))}\n              </TableBody>\n            </Table>\n          </TableContainer>\n        </Grid>\n      </Grid>\n\n      {selectedProject && (\n        <Dialog open={openPopup} onClose={handleClosePopup} maxWidth=\"lg\" fullWidth>\n          <DialogTitle>รายละเอียดโครงงาน</DialogTitle>\n          <DialogContent>\n            <Typography variant=\"h3\">ชื่อโครงงาน: {selectedProject.P_name}</Typography>\n            <Typography>นักเรียนคนที่ 1: {selectedProject.P_S1}</Typography>\n            <Typography>นักเรียนคนที่ 2: {selectedProject.P_S2}</Typography>\n            <Typography>ที่ปรึกษา: {selectedProject.P_T}</Typography>\n            <Typography variant=\"h2\">ตารางลงคะแนนสำหรับกรรมการสอบ</Typography>\n            <TableContainer component={Paper}>\n              <Table>\n                <TableHead>\n                  <TableRow>\n                    <TableCell>ลำดับที่</TableCell>\n                    <TableCell>เกณฑ์พิจารณา</TableCell>\n                    <TableCell>คะเเนนเต็ม</TableCell>\n                    <TableCell>คะเเนนที่ได้</TableCell>\n                  </TableRow>\n                </TableHead>\n                <TableBody>\n                  {data.map((item) => (\n                    <TableRow key={item.id}>\n                      <TableCell>{item.id}</TableCell>\n                      <TableCell>{item.name}</TableCell>\n                      <TableCell>{item.fullscores}</TableCell>\n                      <TableCell>\n                        <TextField\n                          value={item.score}\n                          onChange={(e) => handleChangeScore(item.id, e.target.value)}\n                          disabled={item.name === 'คะแนนรวม'}\n                          type=\"number\"\n                          fullWidth\n                          margin=\"none\"\n                        />\n                      </TableCell>\n                    </TableRow>\n                  ))}\n                </TableBody>\n              </Table>\n            </TableContainer>\n          </DialogContent>\n          <DialogActions>\n            <Button onClick={handleSavePopup} color=\"primary\" variant=\"contained\">\n              บันทึก\n            </Button>\n            <Button onClick={handleClosePopup} color=\"secondary\" variant=\"outlined\">\n              ปิด\n            </Button>\n          </DialogActions>\n        </Dialog>\n      )}\n    </Paper>\n  );\n}\n\nexport default InputScoreCSB03;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}