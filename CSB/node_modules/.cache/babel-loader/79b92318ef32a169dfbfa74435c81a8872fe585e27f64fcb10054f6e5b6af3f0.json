{"ast":null,"code":"var _jsxFileName = \"C:\\\\test\\\\create-react-app\\\\src\\\\views\\\\utilities\\\\InputScoreCSB01.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { Button, Dialog, DialogActions, DialogContent, DialogTitle, FormControl, InputLabel, MenuItem, Select, Stack, TextField, Table, TableBody, TableCell, TableContainer, TableHead, TableRow, Paper, Box, Grid } from '@mui/material';\nimport MainCard from 'ui-component/cards/MainCard';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction InputScoreCSB01() {\n  _s();\n  var _tableData$selectedRo;\n  const [tableData, setTableData] = useState([{\n    id: 1,\n    name: 'จัดการการสอบโครงงานพิเศษ',\n    link: 'path/to/file1.txt',\n    status: 'CSB01',\n    isDisabled: false,\n    isRed: false\n  }]);\n  const [project, setProject] = useState([]);\n  const [Data, setData] = useState([{\n    id: 1,\n    name: 'การวิเคราะห์ปัญหา(Problem Analysis)',\n    description: ['1. มีการระบุที่มาของปัญหา', '2. มีการนำเสนอข้อมูลทางสถิติหรือหลักฐานเพื่อสนับสนุนความสำคัญของปัญหา', '3. มีอ้างอิงแหล่งข้อมูลที่น่าเชื่อถือ'],\n    score: ''\n  }, {\n    id: 2,\n    name: 'แนวคิด/ แนวทางของระบบ(Solution)',\n    description: ['1. มีความสามารถแก้ปัญหาได้แท้จริง ตรงเป้า', '2. มีวิธีการที่นำเสนอที่มีประสิทธิภาพ'],\n    score: ''\n  }, {\n    id: 3,\n    name: 'ขอบเขตและปริมาณงาน(Scope)',\n    description: ['1. มีลักษณะและปริมาณงานเหมาะสมสำหรับปริญญานิพนธ์', '2. มีความเหมาะสมตามกรอบเวลา'],\n    score: ''\n  }, {\n    id: 4,\n    name: 'ต้นแบบระบบ(System Prototype)',\n    description: ['มีการนำเสนอต้นแบบระบบด้วยเครื่องมือที่มีความเหมาะสม เช่น Mockup, wireframe, story board และ system architecture'],\n    score: ''\n  }, {\n    id: 5,\n    name: 'ลักษณะของกลุ่มผู้ใช้งาน(Target market)',\n    description: ['1. มีการกำหนดเป้าหมายสำหรับการใช้งานระบบอย่างชัดเจน', '2. มีการศึกษาลักษณะกลุ่มเป้าหมาย', '3. มีการศึกษาผลกระทบที่คาดว่าจะเกิดต่อกลุ่มเป้าหมาย'],\n    score: ''\n  }, {\n    id: 6,\n    name: 'การวิเคราะห์การตลาด (Market analysis)',\n    description: ['1. มีการนำเสนอระบบที่ใกล้เคียง/ที่เกี่ยวข้องอย่างน้อย 2 ระบบ', '2. มีการระบุข้อจำกัดของระบบที่ใกล้เคียงหรือเกี่ยวข้อง', '3. มีการระบุความแตกต่างหรือจุดเด่นของระบบที่นำเสนอ'],\n    score: ''\n  }, {\n    id: 7,\n    name: 'การศึกษาความเป็นไปได้ (Feasibility study)',\n    description: ['1. มีการนำเสนอการศึกษาเทคนิคที่เกี่ยวข้องเบื้องต้น ', '2. มีการศึกษาข้อจำกัดของอุปกรณ์/ระบบที่เกี่ยวข้อง'],\n    score: ''\n  }, {\n    id: 8,\n    name: 'ผลการประเมิน',\n    score: ''\n  }]);\n  const [ProjectSelect, setProjectSelect] = useState({\n    ID: '',\n    Name: '',\n    SID: '',\n    SName: '',\n    SID2: '',\n    SName2: '',\n    TID: '',\n    TName: ''\n  });\n  const [openPopup, setOpenPopup] = useState(false);\n  const [selectedRow, setSelectedRow] = useState(null);\n  useEffect(() => {\n    const fetchProjects = async () => {\n      try {\n        const response = await axios.get('http://localhost:9999/Project');\n        if (response.data && Array.isArray(response.data)) {\n          setProject(response.data);\n        }\n      } catch (error) {\n        console.error('Error fetching projects:', error);\n      }\n    };\n    fetchProjects();\n  }, []);\n  const handleCheckboxChange = (id, type) => {\n    setData(prevData => prevData.map(item => item.id === id ? {\n      ...item,\n      score: type === 'yes' ? 'ผ่าน' : 'ไม่ผ่าน'\n    } : item));\n  };\n  const updateFinalScore = () => {\n    const countPass = Data.filter(item => item.id >= 1 && item.id <= 7).filter(item => item.score === 'ผ่าน').length;\n    const countFail = Data.filter(item => item.id >= 1 && item.id <= 7).filter(item => item.score === 'ไม่ผ่าน').length;\n    if (countFail >= 4) {\n      setData(prevData => prevData.map(item => item.id === 8 ? {\n        ...item,\n        score: 'ไม่ผ่านการประเมินหัวข้อ'\n      } : item));\n    } else if (countPass >= 4) {\n      setData(prevData => prevData.map(item => item.id === 8 ? {\n        ...item,\n        score: 'ผ่านการประเมินหัวข้อ'\n      } : item));\n    }\n  };\n  useEffect(() => {\n    updateFinalScore();\n  }, [Data]);\n  const saveScore = async () => {\n    const lastScore = Data[Data.length - 1].score;\n    try {\n      const response = await axios.post('http://localhost:9999/Exam_results', {\n        Er_results: lastScore\n      });\n      if (response.status === 200) {\n        console.log('Score saved successfully!');\n      } else {\n        console.error('Failed to save score');\n      }\n    } catch (error) {\n      console.error('Error:', error);\n    }\n  };\n  const handleLinkClick = index => {\n    setOpenPopup(true);\n    setSelectedRow(index);\n  };\n  const handleSavePopup = e => {\n    e.preventDefault();\n    handleSubmit(e);\n    setOpenPopup(false);\n    const updatedData = [...tableData];\n    updatedData[selectedRow].isRed = false;\n    updatedData[selectedRow].isDisabled = true;\n    setTableData(updatedData);\n    saveScore();\n  };\n  const handleClosePopup = () => {\n    setOpenPopup(false);\n  };\n  const handleRedRow = index => {\n    const updatedData = [...tableData];\n    updatedData[index].isRed = true;\n    updatedData[index].isDisabled = true;\n    setTableData(updatedData);\n  };\n  const handleDisableRow = index => {\n    const updatedData = [...tableData];\n    updatedData[index].isDisabled = true;\n    setTableData(updatedData);\n  };\n  const handleDonNotGoAny = () => {\n    const updatedData = tableData.map(row => ({\n      ...row,\n      isRed: true,\n      isDisabled: true\n    }));\n    setTableData(updatedData);\n  };\n  const handleChange = event => {\n    const selectedProjectName = event.target.value;\n    const selectedProject = project.find(proj => proj.Name === selectedProjectName);\n\n    // Update the state with the selected project's details\n    if (selectedProject) {\n      setProjectSelect(selectedProject);\n    } else {\n      setProjectSelect({\n        ID: '',\n        Name: '',\n        SID: '',\n        SName: '',\n        SID2: '',\n        SName2: '',\n        TID: '',\n        TName: ''\n      });\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(MainCard, {\n    children: /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      spacing: 2,\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        children: /*#__PURE__*/_jsxDEV(Grid, {\n          container: true,\n          alignItems: \"center\",\n          justifyContent: \"space-between\",\n          children: /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            children: [/*#__PURE__*/_jsxDEV(Grid, {\n              container: true,\n              direction: \"column\",\n              spacing: 1\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 175,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                children: \"\\u0E1B\\u0E23\\u0E30\\u0E40\\u0E21\\u0E34\\u0E19\\u0E01\\u0E32\\u0E23\\u0E2A\\u0E2D\\u0E1A\\u0E42\\u0E04\\u0E23\\u0E07\\u0E07\\u0E32\\u0E19\\u0E1E\\u0E34\\u0E40\\u0E28\\u0E29\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 177,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                onClick: handleDonNotGoAny,\n                variant: \"contained\",\n                color: \"error\",\n                children: \"\\u0E44\\u0E21\\u0E48\\u0E40\\u0E02\\u0E49\\u0E32\\u0E23\\u0E48\\u0E27\\u0E21\\u0E1B\\u0E23\\u0E30\\u0E40\\u0E21\\u0E34\\u0E19\\u0E17\\u0E31\\u0E49\\u0E07\\u0E2B\\u0E21\\u0E14\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 178,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n                open: openPopup,\n                onClose: handleClosePopup,\n                maxWidth: \"xl\",\n                fullWidth: true,\n                children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n                  children: \"\\u0E41\\u0E1A\\u0E1A\\u0E1B\\u0E23\\u0E30\\u0E40\\u0E21\\u0E34\\u0E19\\u0E01\\u0E32\\u0E23\\u0E2A\\u0E2D\\u0E1A\\u0E42\\u0E04\\u0E23\\u0E07\\u0E07\\u0E32\\u0E19\\u0E1E\\u0E34\\u0E40\\u0E28\\u0E29\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 180,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n                  sx: {\n                    minWidth: 1000\n                  },\n                  children: selectedRow !== null && /*#__PURE__*/_jsxDEV(_Fragment, {\n                    children: ((_tableData$selectedRo = tableData[selectedRow]) === null || _tableData$selectedRo === void 0 ? void 0 : _tableData$selectedRo.status) === 'CSB01' && /*#__PURE__*/_jsxDEV(_Fragment, {\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        children: /*#__PURE__*/_jsxDEV(Box, {\n                          fontSize: \"18px\",\n                          sx: {\n                            marginTop: 5\n                          },\n                          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                            children: \"\\u0E41\\u0E1A\\u0E1A\\u0E1B\\u0E23\\u0E30\\u0E40\\u0E21\\u0E34\\u0E19\\u0E2B\\u0E31\\u0E27\\u0E02\\u0E49\\u0E2D\\u0E42\\u0E04\\u0E23\\u0E07\\u0E07\\u0E32\\u0E19\\u0E1E\\u0E34\\u0E40\\u0E28\\u0E29\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 188,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                            children: \"\\u0E40\\u0E25\\u0E37\\u0E2D\\u0E01\\u0E0A\\u0E37\\u0E48\\u0E2D\\u0E42\\u0E04\\u0E23\\u0E07\\u0E07\\u0E32\\u0E19\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 190,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n                            children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n                              id: \"ProjectName-select-label\",\n                              children: \"\\u0E0A\\u0E37\\u0E48\\u0E2D\\u0E42\\u0E04\\u0E23\\u0E07\\u0E07\\u0E32\\u0E19\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 192,\n                              columnNumber: 35\n                            }, this), /*#__PURE__*/_jsxDEV(Select, {\n                              labelId: \"ProjectName-select-label\",\n                              value: ProjectSelect.Name || '',\n                              onChange: handleChange,\n                              children: project.map(proj => /*#__PURE__*/_jsxDEV(MenuItem, {\n                                value: proj.Name,\n                                children: proj.Name\n                              }, proj.ID, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 199,\n                                columnNumber: 39\n                              }, this))\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 193,\n                              columnNumber: 35\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 191,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(Stack, {\n                            spacing: 2,\n                            sx: {\n                              marginTop: 2\n                            },\n                            children: Data.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n                              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                                children: item.name\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 208,\n                                columnNumber: 39\n                              }, this), item.description.map((desc, index) => /*#__PURE__*/_jsxDEV(\"p\", {\n                                children: desc\n                              }, index, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 210,\n                                columnNumber: 41\n                              }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n                                children: [/*#__PURE__*/_jsxDEV(Button, {\n                                  variant: \"contained\",\n                                  onClick: () => handleCheckboxChange(item.id, 'yes'),\n                                  children: \"\\u0E1C\\u0E48\\u0E32\\u0E19\"\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 213,\n                                  columnNumber: 41\n                                }, this), /*#__PURE__*/_jsxDEV(Button, {\n                                  variant: \"contained\",\n                                  onClick: () => handleCheckboxChange(item.id, 'no'),\n                                  children: \"\\u0E44\\u0E21\\u0E48\\u0E1C\\u0E48\\u0E32\\u0E19\"\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 214,\n                                  columnNumber: 41\n                                }, this)]\n                              }, void 0, true, {\n                                fileName: _jsxFileName,\n                                lineNumber: 212,\n                                columnNumber: 39\n                              }, this)]\n                            }, item.id, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 207,\n                              columnNumber: 37\n                            }, this))\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 205,\n                            columnNumber: 33\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 187,\n                          columnNumber: 31\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 186,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false)\n                  }, void 0, false)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 181,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n                  children: [/*#__PURE__*/_jsxDEV(Button, {\n                    onClick: handleSavePopup,\n                    variant: \"contained\",\n                    color: \"success\",\n                    children: \"\\u0E1A\\u0E31\\u0E19\\u0E17\\u0E36\\u0E01\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 227,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(Button, {\n                    onClick: handleClosePopup,\n                    children: \"\\u0E1B\\u0E34\\u0E14\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 228,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 226,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 179,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 176,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        children: /*#__PURE__*/_jsxDEV(TableContainer, {\n          component: Paper,\n          children: /*#__PURE__*/_jsxDEV(Table, {\n            children: [/*#__PURE__*/_jsxDEV(TableHead, {\n              children: /*#__PURE__*/_jsxDEV(TableRow, {\n                children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                  children: \"\\u0E0A\\u0E37\\u0E48\\u0E2D\\u0E42\\u0E04\\u0E23\\u0E07\\u0E07\\u0E32\\u0E19\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 240,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  children: \"\\u0E25\\u0E34\\u0E07\\u0E04\\u0E4C\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 241,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  children: \"\\u0E2A\\u0E16\\u0E32\\u0E19\\u0E30\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 242,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  children: \"\\u0E41\\u0E01\\u0E49\\u0E44\\u0E02\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 243,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 239,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 238,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n              children: tableData.map((row, index) => /*#__PURE__*/_jsxDEV(TableRow, {\n                style: {\n                  backgroundColor: row.isRed ? 'red' : 'transparent'\n                },\n                children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                  children: row.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 249,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  children: /*#__PURE__*/_jsxDEV(Button, {\n                    disabled: row.isDisabled,\n                    onClick: () => handleLinkClick(index),\n                    variant: \"outlined\",\n                    children: row.link ? 'เปิดไฟล์' : 'ไม่มีลิงค์'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 251,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 250,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  children: row.status\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 259,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  children: [/*#__PURE__*/_jsxDEV(Button, {\n                    disabled: row.isDisabled,\n                    onClick: () => handleRedRow(index),\n                    color: \"error\",\n                    children: \"\\u0E17\\u0E33\\u0E43\\u0E2B\\u0E49\\u0E41\\u0E16\\u0E1A\\u0E2A\\u0E35\\u0E41\\u0E14\\u0E07\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 261,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Button, {\n                    disabled: row.isDisabled,\n                    onClick: () => handleDisableRow(index),\n                    color: \"warning\",\n                    children: \"\\u0E1B\\u0E34\\u0E14\\u0E43\\u0E0A\\u0E49\\u0E07\\u0E32\\u0E19\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 268,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 260,\n                  columnNumber: 21\n                }, this)]\n              }, row.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 248,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 246,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 237,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 170,\n    columnNumber: 5\n  }, this);\n}\n_s(InputScoreCSB01, \"UUG9kBEGDPeHjrceVEKngi59qXA=\");\n_c = InputScoreCSB01;\nexport default InputScoreCSB01;\nvar _c;\n$RefreshReg$(_c, \"InputScoreCSB01\");","map":{"version":3,"names":["React","useState","useEffect","axios","Button","Dialog","DialogActions","DialogContent","DialogTitle","FormControl","InputLabel","MenuItem","Select","Stack","TextField","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","Box","Grid","MainCard","jsxDEV","_jsxDEV","Fragment","_Fragment","InputScoreCSB01","_s","_tableData$selectedRo","tableData","setTableData","id","name","link","status","isDisabled","isRed","project","setProject","Data","setData","description","score","ProjectSelect","setProjectSelect","ID","Name","SID","SName","SID2","SName2","TID","TName","openPopup","setOpenPopup","selectedRow","setSelectedRow","fetchProjects","response","get","data","Array","isArray","error","console","handleCheckboxChange","type","prevData","map","item","updateFinalScore","countPass","filter","length","countFail","saveScore","lastScore","post","Er_results","log","handleLinkClick","index","handleSavePopup","e","preventDefault","handleSubmit","updatedData","handleClosePopup","handleRedRow","handleDisableRow","handleDonNotGoAny","row","handleChange","event","selectedProjectName","target","value","selectedProject","find","proj","children","container","spacing","xs","alignItems","justifyContent","direction","fileName","_jsxFileName","lineNumber","columnNumber","onClick","variant","color","open","onClose","maxWidth","fullWidth","sx","minWidth","fontSize","marginTop","labelId","onChange","desc","component","style","backgroundColor","disabled","_c","$RefreshReg$"],"sources":["C:/test/create-react-app/src/views/utilities/InputScoreCSB01.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { Button, Dialog, DialogActions, DialogContent, DialogTitle, FormControl, InputLabel, MenuItem, Select, Stack, TextField, Table, TableBody, TableCell, TableContainer, TableHead, TableRow, Paper, Box, Grid } from '@mui/material';\r\nimport MainCard from 'ui-component/cards/MainCard';\r\nfunction InputScoreCSB01() {\r\n  const [tableData, setTableData] = useState([\r\n    { id: 1, name: 'จัดการการสอบโครงงานพิเศษ', link: 'path/to/file1.txt', status: 'CSB01', isDisabled: false, isRed: false },\r\n  ]);\r\n\r\n  const [project, setProject] = useState([]);\r\n  const [Data, setData] = useState([\r\n    { id: 1, name: 'การวิเคราะห์ปัญหา(Problem Analysis)', description: ['1. มีการระบุที่มาของปัญหา', '2. มีการนำเสนอข้อมูลทางสถิติหรือหลักฐานเพื่อสนับสนุนความสำคัญของปัญหา', '3. มีอ้างอิงแหล่งข้อมูลที่น่าเชื่อถือ'], score: '' },\r\n    { id: 2, name: 'แนวคิด/ แนวทางของระบบ(Solution)', description: ['1. มีความสามารถแก้ปัญหาได้แท้จริง ตรงเป้า', '2. มีวิธีการที่นำเสนอที่มีประสิทธิภาพ'], score: '' },\r\n    { id: 3, name: 'ขอบเขตและปริมาณงาน(Scope)', description: ['1. มีลักษณะและปริมาณงานเหมาะสมสำหรับปริญญานิพนธ์', '2. มีความเหมาะสมตามกรอบเวลา'], score: '' },\r\n    { id: 4, name: 'ต้นแบบระบบ(System Prototype)', description: ['มีการนำเสนอต้นแบบระบบด้วยเครื่องมือที่มีความเหมาะสม เช่น Mockup, wireframe, story board และ system architecture'], score: '' },\r\n    { id: 5, name: 'ลักษณะของกลุ่มผู้ใช้งาน(Target market)', description: ['1. มีการกำหนดเป้าหมายสำหรับการใช้งานระบบอย่างชัดเจน', '2. มีการศึกษาลักษณะกลุ่มเป้าหมาย', '3. มีการศึกษาผลกระทบที่คาดว่าจะเกิดต่อกลุ่มเป้าหมาย'], score: '' },\r\n    { id: 6, name: 'การวิเคราะห์การตลาด (Market analysis)', description: ['1. มีการนำเสนอระบบที่ใกล้เคียง/ที่เกี่ยวข้องอย่างน้อย 2 ระบบ', '2. มีการระบุข้อจำกัดของระบบที่ใกล้เคียงหรือเกี่ยวข้อง', '3. มีการระบุความแตกต่างหรือจุดเด่นของระบบที่นำเสนอ'], score: '' },\r\n    { id: 7, name: 'การศึกษาความเป็นไปได้ (Feasibility study)', description: ['1. มีการนำเสนอการศึกษาเทคนิคที่เกี่ยวข้องเบื้องต้น ', '2. มีการศึกษาข้อจำกัดของอุปกรณ์/ระบบที่เกี่ยวข้อง'], score: '' },\r\n    { id: 8, name: 'ผลการประเมิน', score: '' },\r\n  ]);\r\n\r\n  const [ProjectSelect, setProjectSelect] = useState({\r\n    ID: '',\r\n    Name: '',\r\n    SID: '',\r\n    SName: '',\r\n    SID2: '',\r\n    SName2: '',\r\n    TID: '',\r\n    TName: '',\r\n  });\r\n\r\n  const [openPopup, setOpenPopup] = useState(false);\r\n  const [selectedRow, setSelectedRow] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const fetchProjects = async () => {\r\n      try {\r\n        const response = await axios.get('http://localhost:9999/Project');\r\n        if (response.data && Array.isArray(response.data)) {\r\n          setProject(response.data);\r\n        }\r\n      } catch (error) {\r\n        console.error('Error fetching projects:', error);\r\n      }\r\n    };\r\n\r\n    fetchProjects();\r\n  }, []);\r\n\r\n  const handleCheckboxChange = (id, type) => {\r\n    setData(prevData =>\r\n      prevData.map(item =>\r\n        item.id === id\r\n          ? { ...item, score: type === 'yes' ? 'ผ่าน' : 'ไม่ผ่าน' }\r\n          : item\r\n      )\r\n    );\r\n  };\r\n\r\n  const updateFinalScore = () => {\r\n    const countPass = Data\r\n      .filter(item => item.id >= 1 && item.id <= 7)\r\n      .filter(item => item.score === 'ผ่าน').length;\r\n\r\n    const countFail = Data\r\n      .filter(item => item.id >= 1 && item.id <= 7)\r\n      .filter(item => item.score === 'ไม่ผ่าน').length;\r\n\r\n    if (countFail >= 4) {\r\n      setData(prevData =>\r\n        prevData.map(item =>\r\n          item.id === 8\r\n            ? { ...item, score: 'ไม่ผ่านการประเมินหัวข้อ' }\r\n            : item\r\n        )\r\n      );\r\n    } else if (countPass >= 4) {\r\n      setData(prevData =>\r\n        prevData.map(item =>\r\n          item.id === 8\r\n            ? { ...item, score: 'ผ่านการประเมินหัวข้อ' }\r\n            : item\r\n        )\r\n      );\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    updateFinalScore();\r\n  }, [Data]);\r\n\r\n  const saveScore = async () => {\r\n    const lastScore = Data[Data.length - 1].score;\r\n    try {\r\n      const response = await axios.post('http://localhost:9999/Exam_results', {\r\n        Er_results: lastScore,\r\n      });\r\n\r\n      if (response.status === 200) {\r\n        console.log('Score saved successfully!');\r\n      } else {\r\n        console.error('Failed to save score');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error:', error);\r\n    }\r\n  };\r\n\r\n  const handleLinkClick = (index) => {\r\n    setOpenPopup(true);\r\n    setSelectedRow(index);\r\n  };\r\n\r\n  const handleSavePopup = (e) => {\r\n    e.preventDefault();\r\n    handleSubmit(e);\r\n    setOpenPopup(false);\r\n    const updatedData = [...tableData];\r\n    updatedData[selectedRow].isRed = false;\r\n    updatedData[selectedRow].isDisabled = true;\r\n    setTableData(updatedData);\r\n    saveScore();\r\n  };\r\n\r\n  const handleClosePopup = () => {\r\n    setOpenPopup(false);\r\n  };\r\n\r\n  const handleRedRow = (index) => {\r\n    const updatedData = [...tableData];\r\n    updatedData[index].isRed = true;\r\n    updatedData[index].isDisabled = true;\r\n    setTableData(updatedData);\r\n  };\r\n\r\n  const handleDisableRow = (index) => {\r\n    const updatedData = [...tableData];\r\n    updatedData[index].isDisabled = true;\r\n    setTableData(updatedData);\r\n  };\r\n\r\n  const handleDonNotGoAny = () => {\r\n    const updatedData = tableData.map(row => ({ ...row, isRed: true, isDisabled: true }));\r\n    setTableData(updatedData);\r\n  };\r\n\r\n  const handleChange = (event) => {\r\n    const selectedProjectName = event.target.value;\r\n    const selectedProject = project.find((proj) => proj.Name === selectedProjectName);\r\n\r\n    // Update the state with the selected project's details\r\n    if (selectedProject) {\r\n      setProjectSelect(selectedProject);\r\n    } else {\r\n      setProjectSelect({\r\n        ID: '',\r\n        Name: '',\r\n        SID: '',\r\n        SName: '',\r\n        SID2: '',\r\n        SName2: '',\r\n        TID: '',\r\n        TName: '',\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <MainCard>\r\n      <Grid container spacing={2}>\r\n        <Grid item xs={12}>\r\n          <Grid container alignItems=\"center\" justifyContent=\"space-between\">\r\n            <Grid item>\r\n              <Grid container direction=\"column\" spacing={1}></Grid>\r\n              <div>\r\n                <h1>ประเมินการสอบโครงงานพิเศษ</h1>\r\n                <Button onClick={handleDonNotGoAny} variant=\"contained\" color=\"error\">ไม่เข้าร่วมประเมินทั้งหมด</Button>\r\n                <Dialog open={openPopup} onClose={handleClosePopup} maxWidth='xl' fullWidth>\r\n                  <DialogTitle>แบบประเมินการสอบโครงงานพิเศษ</DialogTitle>\r\n                  <DialogContent sx={{ minWidth: 1000 }}>\r\n                    {selectedRow !== null && (\r\n                      <>\r\n                        {tableData[selectedRow]?.status === 'CSB01' && (\r\n                          <>\r\n                            <div>\r\n                              <Box fontSize=\"18px\" sx={{ marginTop: 5 }}>\r\n                                <h1>แบบประเมินหัวข้อโครงงานพิเศษ</h1>\r\n                                {/* Select field for project name */}\r\n                                <p>เลือกชื่อโครงงาน</p>\r\n                                <FormControl>\r\n                                  <InputLabel id=\"ProjectName-select-label\">ชื่อโครงงาน</InputLabel>\r\n                                  <Select\r\n                                    labelId=\"ProjectName-select-label\"\r\n                                    value={ProjectSelect.Name || ''}\r\n                                    onChange={handleChange}\r\n                                  >\r\n                                    {project.map((proj) => (\r\n                                      <MenuItem key={proj.ID} value={proj.Name}>\r\n                                        {proj.Name}\r\n                                      </MenuItem>\r\n                                    ))}\r\n                                  </Select>\r\n                                </FormControl>\r\n                                <Stack spacing={2} sx={{ marginTop: 2 }}>\r\n                                  {Data.map((item) => (\r\n                                    <div key={item.id}>\r\n                                      <h3>{item.name}</h3>\r\n                                      {item.description.map((desc, index) => (\r\n                                        <p key={index}>{desc}</p>\r\n                                      ))}\r\n                                      <div>\r\n                                        <Button variant=\"contained\" onClick={() => handleCheckboxChange(item.id, 'yes')}>ผ่าน</Button>\r\n                                        <Button variant=\"contained\" onClick={() => handleCheckboxChange(item.id, 'no')}>ไม่ผ่าน</Button>\r\n                                      </div>\r\n                                    </div>\r\n                                  ))}\r\n                                </Stack>\r\n                              </Box>\r\n                            </div>\r\n                          </>\r\n                        )}\r\n                      </>\r\n                    )}\r\n                  </DialogContent>\r\n                  <DialogActions>\r\n                    <Button onClick={handleSavePopup} variant=\"contained\" color=\"success\">บันทึก</Button>\r\n                    <Button onClick={handleClosePopup}>ปิด</Button>\r\n                  </DialogActions>\r\n                </Dialog>\r\n              </div>\r\n            </Grid>\r\n          </Grid>\r\n        </Grid>\r\n        <Grid item xs={12}>\r\n          <TableContainer component={Paper}>\r\n            <Table>\r\n              <TableHead>\r\n                <TableRow>\r\n                  <TableCell>ชื่อโครงงาน</TableCell>\r\n                  <TableCell>ลิงค์</TableCell>\r\n                  <TableCell>สถานะ</TableCell>\r\n                  <TableCell>แก้ไข</TableCell>\r\n                </TableRow>\r\n              </TableHead>\r\n              <TableBody>\r\n                {tableData.map((row, index) => (\r\n                  <TableRow key={row.id} style={{ backgroundColor: row.isRed ? 'red' : 'transparent' }}>\r\n                    <TableCell>{row.name}</TableCell>\r\n                    <TableCell>\r\n                      <Button\r\n                        disabled={row.isDisabled}\r\n                        onClick={() => handleLinkClick(index)}\r\n                        variant=\"outlined\"\r\n                      >\r\n                        {row.link ? 'เปิดไฟล์' : 'ไม่มีลิงค์'}\r\n                      </Button>\r\n                    </TableCell>\r\n                    <TableCell>{row.status}</TableCell>\r\n                    <TableCell>\r\n                      <Button\r\n                        disabled={row.isDisabled}\r\n                        onClick={() => handleRedRow(index)}\r\n                        color=\"error\"\r\n                      >\r\n                        ทำให้แถบสีแดง\r\n                      </Button>\r\n                      <Button\r\n                        disabled={row.isDisabled}\r\n                        onClick={() => handleDisableRow(index)}\r\n                        color=\"warning\"\r\n                      >\r\n                        ปิดใช้งาน\r\n                      </Button>\r\n                    </TableCell>\r\n                  </TableRow>\r\n                ))}\r\n              </TableBody>\r\n            </Table>\r\n          </TableContainer>\r\n        </Grid>\r\n      </Grid>\r\n    </MainCard>\r\n  );\r\n}\r\n\r\nexport default InputScoreCSB01;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}