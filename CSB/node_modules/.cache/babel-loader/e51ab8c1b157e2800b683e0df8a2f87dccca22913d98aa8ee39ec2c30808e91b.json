{"ast":null,"code":"var _jsxFileName = \"C:\\\\test\\\\create-react-app\\\\src\\\\views\\\\utilities\\\\InputScoreCSB01.js\",\n  _s = $RefreshSig$();\n// import React, { useState, useEffect } from 'react';\n// import { Table, Grid, Paper, TextField, TableBody, TableCell, TableContainer, TableHead, TableRow, Button, Dialog, DialogTitle, DialogContent, DialogActions } from '@mui/material';\n// import axios from 'axios';\n// import MainCard from 'ui-component/cards/MainCard';\n// import { gridSpacing } from 'store/constant';\n\n// const InputScoreCSB01 = () => {\n//   const [projects, setProjects] = useState([]); // State for storing project data from API\n//   const [openPopup, setOpenPopup] = useState(false); // State for managing the popup\n//   const [selectedProject, setSelectedProject] = useState(null); // State for the selected project\n//   const [data, setData] = useState([\n//     { id: 1, name: 'การวิเคราะห์ปัญหา(Problem Analysis)', description: [\n//         '1. มีการระบุที่มาของปัญหา',\n//         '2. มีการนำเสนอข้อมูลทางสถิติหรือหลักฐานเพื่อสนับสนุนความสำคัญของปัญหา',\n//         '3. มีอ้างอิงแหล่งข้อมูลที่น่าเชื่อถือ'], score: ''\n//     },\n//     { id: 2, name: 'แนวคิด/ แนวทางของระบบ(Solution)', description: [\n//         '1. มีความสามารถแก้ปัญหาได้แท้จริง ตรงเป้า',\n//         '2. มีวิธีการที่นำเสนอที่มีประสิทธิภาพ'], score: ''\n//     },\n//     { id: 3, name: 'ขอบเขตและปริมาณงาน(Scope)', description: [\n//         '1. มีลักษณะและปริมาณงานเหมาะสมสำหรับปริญญานิพนธ์',\n//         '2. มีความเหมาะสมตามกรอบเวลา'], score: ''\n//     },\n//     { id: 4, name: 'ต้นแบบระบบ(System Prototype)', description: [\n//         'มีการนำเสนอต้นแบบระบบด้วยเครื่องมือที่มีความเหมาะสม เช่น Mockup, wireframe, story board และ system architecture'], score: ''\n//     },\n//     { id: 5, name: 'ลักษณะของกลุ่มผู้ใช้งาน(Target market)', description: [\n//         '1. มีการกำหนดเป้าหมายสำหรับการใช้งานระบบอย่างชัดเจน',\n//         '2. มีการศึกษาลักษณะกลุ่มเป้าหมาย',\n//         '3. มีการศึกษาผลกระทบที่คาดว่าจะเกิดต่อกลุ่มเป้าหมาย'], score: ''\n//     },\n//     { id: 6, name: 'การวิเคราะห์การตลาด (Market analysis)', description: [\n//         '1. มีการนำเสนอระบบที่ใกล้เคียง/ที่เกี่ยวข้องอย่างน้อย 2 ระบบ',\n//         '2. มีการระบุข้อจำกัดของระบบที่ใกล้เคียงหรือเกี่ยวข้อง',\n//         '3. มีการระบุความแตกต่างหรือจุดเด่นของระบบที่นำเสนอ'], score: ''\n//     },\n//     { id: 7, name: 'การศึกษาความเป็นไปได้ (Feasibility study)', description: [\n//         '1. มีการนำเสนอการศึกษาเทคนิคที่เกี่ยวข้องเบื้องต้น',\n//         '2. มีการศึกษาข้อจำกัดของอุปกรณ์/ระบบที่เกี่ยวข้อง'], score: ''\n//     },\n//     { id: 8, name: 'ผลการประเมิน', score: '' }\n//   ]);\n\n//   useEffect(() => {\n//     // Fetch project data from API when the component loads\n//     axios\n//       .get('http://localhost:9999/Project')\n//       .then((response) => {\n//         setProjects(response.data); // Set project data in state\n//       })\n//       .catch((error) => {\n//         console.error('Error fetching projects:', error);\n//       });\n//   }, []);\n\n//   const handleCheckboxChange = (id, type) => {\n//     setData(prevData =>\n//       prevData.map(item =>\n//         item.id === id\n//           ? { ...item, score: type === 'yes' ? 'ผ่าน' : 'ไม่ผ่าน' }\n//           : item\n//       )\n//     );\n//   };\n\n//   useEffect(() => {\n//     if (Array.isArray(data)) {\n//       updateFinalScore();\n//     }\n//   }, [data]);\n\n//   const updateFinalScore = () => {\n//     const countPass = data\n//       .filter(item => item.id >= 1 && item.id <= 7)\n//       .filter(item => item.score === 'ผ่าน').length;\n\n//     const countFail = data\n//       .filter(item => item.id >= 1 && item.id <= 7)\n//       .filter(item => item.score === 'ไม่ผ่าน').length;\n\n//     if (countFail >= 4) {\n//       setData(prevData =>\n//         prevData.map(item =>\n//           item.id === 8\n//             ? { ...item, score: 'ไม่ผ่านการประเมินหัวข้อ' }\n//             : item\n//         )\n//       );\n//     } else if (countPass >= 4) {\n//       setData(prevData =>\n//         prevData.map(item =>\n//           item.id === 8\n//             ? { ...item, score: 'ผ่านการประเมินหัวข้อ' }\n//             : item\n//         )\n//       );\n//     }\n//   };\n\n//   const handleOpenPopup = (project) => {\n//     setSelectedProject(project); // Set selected project to evaluate\n//     setOpenPopup(true); // Open the evaluation popup\n//   };\n\n//   const handleClosePopup = () => {\n//     setOpenPopup(false); // Close the popup\n//   };\n\n//   const handleDonNotGoAny = () => {\n//     alert('การดำเนินการไม่เข้าร่วมประเมินทั้งหมด');\n//   };\n\n//   const handleSavePopup = async (e) => {\n//     e.preventDefault();\n//     handleSubmit(e);\n//     setOpenPopup(false);\n//     saveScore();\n//   };\n\n//   const saveScore = async () => {\n//     const lastScore = data.find(item => item.id === 8)?.score || '';\n\n//     try {\n//       const response = await axios.post('http://localhost:9999/Exam_results', {\n//         Er_results: lastScore,\n//       });\n\n//       if (response.status === 200) {\n//         console.log('Score saved successfully!', response.data);\n//       } else {\n//         console.error('Failed to save score. Response:', response);\n//       }\n//     } catch (error) {\n//       console.error('Error saving score:', error.response ? error.response.data : error.message);\n//     }\n//   };\n\n//   const handleSubmit = async (e) => {\n//     e.preventDefault();\n//     try {\n//       const response = await axios.post('http://localhost:9999/Exam_results', formData);\n//       console.log('Subject added:', response.data);\n//       alert(\"Subject added successfully!\");\n//       // Reset form after successful submission\n//       setFormData({\n//         Er_name: '',\n//         Er_results: '',\n//         Er_com: '',\n//         Er_status: '',\n//         Er_date: '',\n//         Er_time: ''\n//       });\n//     } catch (error) {\n//       console.error('Error adding subject:', error);\n//       alert(\"Failed to add subject. Please try again later.\");\n//     }\n//   };\n\n//   return (\n//     <MainCard>\n//       <Grid container spacing={gridSpacing}>\n//         <Grid item xs={12}>\n//           <h1>ประเมินการสอบหัวข้อโครงงานพิเศษ</h1>\n//           <Button onClick={handleDonNotGoAny} variant=\"contained\" color=\"error\">\n//             ไม่เข้าร่วมประเมินทั้งหมด\n//           </Button>\n\n//           <TableContainer component={Paper} style={{ marginTop: '20px' }}>\n//             <Table>\n//               <TableHead>\n//                 <TableRow>\n//                   <TableCell>ลำดับที่</TableCell>\n//                   <TableCell>ชื่อโครงงาน</TableCell>\n//                   <TableCell>ประเมินการสอบโครงงานพิเศษ</TableCell>\n//                   <TableCell>ไม่ประสงค์ลงคะแนนสอบ</TableCell>\n//                   <TableCell>ไม่เข้าประเมินการสอบ</TableCell>\n//                 </TableRow>\n//               </TableHead>\n//               <TableBody>\n//                 {projects.map((project, index) => (\n//                   <TableRow key={project.P_id}>\n//                     <TableCell>{index + 1}</TableCell>\n//                     <TableCell>{project.P_name}</TableCell>\n//                     <TableCell>\n//                       <Button\n//                         onClick={() => handleOpenPopup(project)}\n//                         variant=\"outlined\"\n//                       >\n//                         ประเมิน\n//                       </Button>\n//                     </TableCell>\n//                     <TableCell>\n//                       <Button\n//                         onClick={() => alert(`ไม่ประสงค์ลงคะแนนสอบสำหรับโครงงาน: ${project.P_name}`)}\n//                         variant=\"outlined\"\n//                       >\n//                         ไม่ประสงค์ลงคะแนนสอบ\n//                       </Button>\n//                     </TableCell>\n//                     <TableCell>\n//                       <Button\n//                         onClick={() => alert(`ไม่เข้าประเมินการสอบสำหรับโครงงาน: ${project.P_name}`)}\n//                         variant=\"outlined\"\n//                       >\n//                         ไม่เข้าประเมินการสอบ\n//                       </Button>\n//                     </TableCell>\n//                   </TableRow>\n//                 ))}\n//               </TableBody>\n//             </Table>\n//           </TableContainer>\n\n//           {/* Evaluation Popup */}\n//           <Dialog open={openPopup} onClose={handleClosePopup} maxWidth=\"md\" fullWidth>\n//             <DialogTitle>ประเมินโครงงาน: {selectedProject?.P_name}</DialogTitle>\n//             <DialogContent>\n//               {selectedProject && (\n//                 <>\n//                   <h3>นักศึกษาคนที่ 1: {selectedProject.P_S1}</h3>\n//                   <h3>นักศึกษาคนที่ 2: {selectedProject.P_S2}</h3>\n//                   <h3>อาจารย์ที่ปรึกษา: {selectedProject.P_T}</h3>\n//                   <h2>ตารางลงคะแนนสำหรับกรรมการสอบ</h2>\n//                   <TableContainer component={Paper}>\n//                     <Table>\n//                       <TableHead>\n//                         <TableRow>\n//                           <TableCell>ลำดับที่</TableCell>\n//                           <TableCell>เกณฑ์พิจารณา</TableCell>\n//                           <TableCell>คำอธิบาย</TableCell>\n//                           <TableCell>ผลการประเมิน</TableCell>\n//                         </TableRow>\n//                       </TableHead>\n//                       <TableBody>\n//                         {data.map((item, index) => (\n//                           <TableRow key={item.id}>\n//                             <TableCell>{item.id}</TableCell>\n//                             <TableCell>{item.name}</TableCell>\n//                             <TableCell>\n//                               <ul>\n//                                 {(item.description || []).map((desc, idx) => (\n//                                   <li key={idx}>{desc}</li>\n//                                 ))}\n//                               </ul>\n//                             </TableCell>\n//                             <TableCell>\n//                               {item.id === 8 ? (\n//                                 <TextField value={item.score} disabled fullWidth margin=\"none\" />\n//                               ) : (\n//                                 <div>\n//                                   <label htmlFor={`pass-${index}`}>\n//                                     <input\n//                                       type=\"radio\"\n//                                       id={`pass-${index}`}\n//                                       checked={item.score === \"ผ่าน\"}\n//                                       onChange={() => handleCheckboxChange(item.id, \"yes\")}\n//                                     />\n//                                     ผ่าน\n//                                   </label>\n//                                   <label htmlFor={`fail-${index}`}>\n//                                     <input\n//                                       type=\"radio\"\n//                                       id={`fail-${index}`}\n//                                       checked={item.score === \"ไม่ผ่าน\"}\n//                                       onChange={() => handleCheckboxChange(item.id, \"no\")}\n//                                     />\n//                                     ไม่ผ่าน\n//                                   </label>\n//                                 </div>\n//                               )}\n//                             </TableCell>\n//                           </TableRow>\n//                         ))}\n//                       </TableBody>\n//                     </Table>\n//                   </TableContainer>\n//                 </>\n//               )}\n//             </DialogContent>\n//             <DialogActions>\n//               <Button onClick={handleClosePopup} color=\"secondary\">\n//                 ยกเลิก\n//               </Button>\n//               <Button onClick={handleSavePopup} variant=\"contained\" color=\"primary\">\n//                 บันทึกการประเมิน\n//               </Button>\n//             </DialogActions>\n//           </Dialog>\n//         </Grid>\n//       </Grid>\n//     </MainCard>\n//   );\n// };\n\n// export default InputScoreCSB01;\n\nimport React, { useState, useEffect } from 'react';\nimport { Table, Checkbox, TableBody, TableCell, TableContainer, TableHead, TableRow, Button, Dialog, DialogTitle, DialogContent, DialogActions, Select, MenuItem, TextField, Box, Paper, Stack, InputLabel, FormControl, Grid } from '@mui/material';\nimport axios from 'axios';\nimport MainCard from 'ui-component/cards/MainCard';\nimport { gridSpacing } from 'store/constant';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst InputScoreCSB01 = () => {\n  _s();\n  const [data, setData] = useState([\n    // Initial data setup for evaluation criteria\n  ]);\n  const [projectSelect, setProjectSelect] = useState({\n    ID: '',\n    Name: '',\n    SID: '',\n    SName: '',\n    SID2: '',\n    SName2: '',\n    TID: '',\n    TName: ''\n  });\n  const [tableData, setTableData] = useState([]);\n  const [formData, setFormData] = useState({\n    Er_name: '',\n    Er_results: '',\n    Er_com: '',\n    Er_status: '',\n    Er_date: '',\n    Er_time: ''\n  });\n  const [examscores, setExamscores] = useState([]);\n  const [openPopup, setOpenPopup] = useState(false);\n  const [selectedRow, setSelectedRow] = useState(null);\n  const [openDialog2, setOpenDialog2] = useState(false);\n  useEffect(() => {\n    // Fetch examscores and initialize other state\n    const fetchExamscores = async () => {\n      try {\n        const response = await axios.get('http://localhost:9999/Exam_results');\n        if (response.data && Array.isArray(response.data)) {\n          setExamscores(response.data.map(item => item.Er_name));\n        }\n      } catch (error) {\n        console.error('Error fetching subject names:', error);\n      }\n    };\n    fetchExamscores();\n  }, []);\n  useEffect(() => {\n    updateFinalScore();\n  }, [data]);\n  const updateFinalScore = () => {\n    const countPass = data.filter(item => item.id >= 1 && item.id <= 7 && item.score === 'ผ่าน').length;\n    const countFail = data.filter(item => item.id >= 1 && item.id <= 7 && item.score === 'ไม่ผ่าน').length;\n    setData(prevData => prevData.map(item => item.id === 8 ? {\n      ...item,\n      score: countFail >= 4 ? 'ไม่ผ่านการประเมินหัวข้อ' : countPass >= 4 ? 'ผ่านการประเมินหัวข้อ' : item.score\n    } : item));\n  };\n  const saveScore = async () => {\n    const lastScore = data[data.length - 1].score;\n    try {\n      const response = await axios.post('http://localhost:9999/Exam_results', {\n        Er_results: lastScore\n      });\n      if (response.status === 200) {\n        console.log('Score saved successfully!');\n      } else {\n        console.error('Failed to save score');\n      }\n    } catch (error) {\n      console.error('Error:', error);\n    }\n  };\n  const handleCheckboxChange = (id, type) => {\n    setData(prevData => prevData.map(item => item.id === id ? {\n      ...item,\n      score: type === 'yes' ? 'ผ่าน' : 'ไม่ผ่าน'\n    } : item));\n  };\n  const handleLinkClick = index => {\n    setOpenPopup(true);\n    setSelectedRow(index);\n  };\n  const handleSavePopup = async e => {\n    e.preventDefault();\n    handleSubmit();\n    setOpenPopup(false);\n    saveScore();\n  };\n  const handleClosePopup = () => setOpenPopup(false);\n  const handleDonNotGoAny = () => {\n    const updatedData = tableData.map(row => ({\n      ...row,\n      isRed: true,\n      isDisabled: true\n    }));\n    setTableData(updatedData);\n  };\n  const handleChange = event => {\n    const selectedProjectName = event.target.value;\n    const selectedProject = project.find(proj => proj.P_name === selectedProjectName);\n    if (selectedProject) {\n      setProjectSelect({\n        ID: selectedProject.ID,\n        Name: selectedProject.P_name,\n        SID: selectedProject.P_S1,\n        SName: selectedProject.P_S1_name,\n        SID2: selectedProject.P_S2,\n        SName2: selectedProject.P_S2_name,\n        TID: selectedProject.P_T_id,\n        TName: selectedProject.P_T\n      });\n    } else {\n      setProjectSelect({\n        ID: '',\n        Name: '',\n        SID: '',\n        SName: '',\n        SID2: '',\n        SName2: '',\n        TID: '',\n        TName: ''\n      });\n    }\n  };\n  const handleSubmit = async () => {\n    try {\n      const response = await axios.post('http://localhost:9999/Exam_results', formData);\n      console.log('Subject added:', response.data);\n      alert(\"Subject added successfully!\");\n      setFormData({\n        Er_name: '',\n        Er_results: '',\n        Er_com: '',\n        Er_status: '',\n        Er_date: '',\n        Er_time: ''\n      });\n    } catch (error) {\n      console.error('Error adding subject:', error);\n      alert(\"Failed to add subject. Please try again later.\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(MainCard, {\n    children: /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      spacing: gridSpacing,\n      children: /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        children: /*#__PURE__*/_jsxDEV(Grid, {\n          container: true,\n          alignItems: \"center\",\n          justifyContent: \"space-between\",\n          children: /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              children: \"\\u0E1B\\u0E23\\u0E30\\u0E40\\u0E21\\u0E34\\u0E19\\u0E01\\u0E32\\u0E23\\u0E2A\\u0E2D\\u0E1A\\u0E42\\u0E04\\u0E23\\u0E07\\u0E07\\u0E32\\u0E19\\u0E1E\\u0E34\\u0E40\\u0E28\\u0E29\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 472,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              onClick: handleDonNotGoAny,\n              variant: \"contained\",\n              color: \"error\",\n              children: \"\\u0E44\\u0E21\\u0E48\\u0E40\\u0E02\\u0E49\\u0E32\\u0E23\\u0E48\\u0E27\\u0E21\\u0E1B\\u0E23\\u0E30\\u0E40\\u0E21\\u0E34\\u0E19\\u0E17\\u0E31\\u0E49\\u0E07\\u0E2B\\u0E21\\u0E14\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 473,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n              open: openPopup,\n              onClose: handleClosePopup,\n              maxWidth: \"xl\",\n              fullWidth: true,\n              children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n                children: \"\\u0E41\\u0E1A\\u0E1A\\u0E1B\\u0E23\\u0E30\\u0E40\\u0E21\\u0E34\\u0E19\\u0E01\\u0E32\\u0E23\\u0E2A\\u0E2D\\u0E1A\\u0E42\\u0E04\\u0E23\\u0E07\\u0E07\\u0E32\\u0E19\\u0E1E\\u0E34\\u0E40\\u0E28\\u0E29\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 475,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n                sx: {\n                  minWidth: 1000\n                },\n                children: selectedRow !== null && /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: /*#__PURE__*/_jsxDEV(Box, {\n                    fontSize: \"18px\",\n                    sx: {\n                      marginTop: 5\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                      children: \"\\u0E41\\u0E1A\\u0E1A\\u0E1B\\u0E23\\u0E30\\u0E40\\u0E21\\u0E34\\u0E19\\u0E2B\\u0E31\\u0E27\\u0E02\\u0E49\\u0E2D\\u0E42\\u0E04\\u0E23\\u0E07\\u0E07\\u0E32\\u0E19\\u0E1E\\u0E34\\u0E40\\u0E28\\u0E29\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 480,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      children: \"\\u0E40\\u0E25\\u0E37\\u0E2D\\u0E01\\u0E0A\\u0E37\\u0E48\\u0E2D\\u0E42\\u0E04\\u0E23\\u0E07\\u0E07\\u0E32\\u0E19\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 481,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n                      children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n                        id: \"ProjectName-select-label\",\n                        children: \"\\u0E0A\\u0E37\\u0E48\\u0E2D\\u0E42\\u0E04\\u0E23\\u0E07\\u0E07\\u0E32\\u0E19\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 483,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(Select, {\n                        labelId: \"ProjectName-select-label\",\n                        value: (projectSelect === null || projectSelect === void 0 ? void 0 : projectSelect.Name) || \"\",\n                        onChange: handleChange,\n                        label: \"\\u0E0A\\u0E37\\u0E48\\u0E2D\\u0E42\\u0E04\\u0E23\\u0E07\\u0E07\\u0E32\\u0E19\",\n                        margin: \"normal\",\n                        sx: {\n                          minWidth: 250\n                        },\n                        children: project.filter(proj => proj.ID !== projectSelect.ID).map(proj => /*#__PURE__*/_jsxDEV(MenuItem, {\n                          value: proj.Name,\n                          children: proj.Name\n                        }, proj.ID, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 493,\n                          columnNumber: 31\n                        }, this))\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 484,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 482,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 497,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      children: \"\\u0E42\\u0E14\\u0E22\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 498,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(TextField, {\n                      id: \"SID1\",\n                      label: \"\\u0E23\\u0E2B\\u0E31\\u0E2A\\u0E19\\u0E31\\u0E01\\u0E28\\u0E36\\u0E01\\u0E29\\u0E32\\u0E04\\u0E19\\u0E17\\u0E35\\u0E48 1\",\n                      value: projectSelect.SID,\n                      disabled: true,\n                      sx: {\n                        \"& > :not(style)\": {\n                          mr: 5,\n                          ml: 5,\n                          width: \"25ch\"\n                        }\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 499,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(TextField, {\n                      id: \"SName1\",\n                      label: \"\\u0E0A\\u0E37\\u0E48\\u0E2D-\\u0E2A\\u0E01\\u0E38\\u0E25\\u0E19\\u0E31\\u0E01\\u0E28\\u0E36\\u0E01\\u0E29\\u0E32\\u0E04\\u0E19\\u0E17\\u0E35\\u0E48 1\",\n                      value: projectSelect.SName,\n                      disabled: true,\n                      sx: {\n                        \"& > :not(style)\": {\n                          width: \"30ch\"\n                        }\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 500,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 501,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(TextField, {\n                      id: \"SID2\",\n                      label: \"\\u0E23\\u0E2B\\u0E31\\u0E2A\\u0E19\\u0E31\\u0E01\\u0E28\\u0E36\\u0E01\\u0E29\\u0E32\\u0E04\\u0E19\\u0E17\\u0E35\\u0E48 2\",\n                      value: projectSelect.SID2,\n                      disabled: true,\n                      sx: {\n                        \"& > :not(style)\": {\n                          mr: 5,\n                          ml: 5,\n                          mt: 3,\n                          width: \"25ch\"\n                        }\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 502,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(TextField, {\n                      id: \"SName2\",\n                      label: \"\\u0E0A\\u0E37\\u0E48\\u0E2D-\\u0E2A\\u0E01\\u0E38\\u0E25\\u0E19\\u0E31\\u0E01\\u0E28\\u0E36\\u0E01\\u0E29\\u0E32\\u0E04\\u0E19\\u0E17\\u0E35\\u0E48 2\",\n                      value: projectSelect.SName2,\n                      disabled: true,\n                      sx: {\n                        \"& > :not(style)\": {\n                          mt: 3,\n                          width: \"30ch\"\n                        }\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 503,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      children: \"\\u0E2D\\u0E32\\u0E08\\u0E32\\u0E23\\u0E22\\u0E4C\\u0E17\\u0E35\\u0E48\\u0E1B\\u0E23\\u0E36\\u0E01\\u0E29\\u0E32\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 504,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(TextField, {\n                      id: \"TName\",\n                      label: \"\\u0E0A\\u0E37\\u0E48\\u0E2D\\u0E2D\\u0E32\\u0E08\\u0E32\\u0E23\\u0E22\\u0E4C\\u0E17\\u0E35\\u0E48\\u0E1B\\u0E23\\u0E36\\u0E01\\u0E29\\u0E32\",\n                      value: projectSelect.TName,\n                      disabled: true,\n                      sx: {\n                        \"& > :not(style)\": {\n                          mr: 5,\n                          ml: 5,\n                          width: \"25ch\"\n                        }\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 505,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n                      children: \"\\u0E15\\u0E32\\u0E23\\u0E32\\u0E07\\u0E25\\u0E07\\u0E04\\u0E30\\u0E41\\u0E19\\u0E19\\u0E2A\\u0E33\\u0E2B\\u0E23\\u0E31\\u0E1A\\u0E01\\u0E23\\u0E23\\u0E21\\u0E01\\u0E32\\u0E23\\u0E2A\\u0E2D\\u0E1A\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 506,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(TableContainer, {\n                      component: Paper,\n                      children: /*#__PURE__*/_jsxDEV(Table, {\n                        children: [/*#__PURE__*/_jsxDEV(TableHead, {\n                          children: /*#__PURE__*/_jsxDEV(TableRow, {\n                            children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                              children: \"\\u0E25\\u0E33\\u0E14\\u0E31\\u0E1A\\u0E17\\u0E35\\u0E48\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 511,\n                              columnNumber: 33\n                            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                              children: \"\\u0E40\\u0E01\\u0E13\\u0E11\\u0E4C\\u0E1E\\u0E34\\u0E08\\u0E32\\u0E23\\u0E13\\u0E32\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 512,\n                              columnNumber: 33\n                            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                              children: \"\\u0E23\\u0E32\\u0E22\\u0E25\\u0E30\\u0E40\\u0E2D\\u0E35\\u0E22\\u0E14\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 513,\n                              columnNumber: 33\n                            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                              children: \"\\u0E04\\u0E30\\u0E41\\u0E19\\u0E19\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 514,\n                              columnNumber: 33\n                            }, this)]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 510,\n                            columnNumber: 31\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 509,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n                          children: data.map(row => /*#__PURE__*/_jsxDEV(TableRow, {\n                            children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                              children: row.id\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 520,\n                              columnNumber: 35\n                            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                              children: row.criteria\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 521,\n                              columnNumber: 35\n                            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                              children: row.description\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 522,\n                              columnNumber: 35\n                            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                              children: [/*#__PURE__*/_jsxDEV(Checkbox, {\n                                checked: row.score === 'ผ่าน',\n                                onChange: () => handleCheckboxChange(row.id, 'yes')\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 524,\n                                columnNumber: 37\n                              }, this), \" \\u0E1C\\u0E48\\u0E32\\u0E19\", /*#__PURE__*/_jsxDEV(Checkbox, {\n                                checked: row.score === 'ไม่ผ่าน',\n                                onChange: () => handleCheckboxChange(row.id, 'no')\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 528,\n                                columnNumber: 37\n                              }, this), \" \\u0E44\\u0E21\\u0E48\\u0E1C\\u0E48\\u0E32\\u0E19\"]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 523,\n                              columnNumber: 35\n                            }, this)]\n                          }, row.id, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 519,\n                            columnNumber: 33\n                          }, this))\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 517,\n                          columnNumber: 29\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 508,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 507,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 479,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 476,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n                children: [/*#__PURE__*/_jsxDEV(Button, {\n                  onClick: handleSavePopup,\n                  children: \"Save\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 543,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Button, {\n                  onClick: handleClosePopup,\n                  children: \"Cancel\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 544,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 542,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 474,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 471,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 470,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 469,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 468,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 467,\n    columnNumber: 5\n  }, this);\n};\n_s(InputScoreCSB01, \"PuuGqzjRr+F0fP5EKkE1eSUfEN4=\");\n_c = InputScoreCSB01;\nexport default InputScoreCSB01;\nvar _c;\n$RefreshReg$(_c, \"InputScoreCSB01\");","map":{"version":3,"names":["React","useState","useEffect","Table","Checkbox","TableBody","TableCell","TableContainer","TableHead","TableRow","Button","Dialog","DialogTitle","DialogContent","DialogActions","Select","MenuItem","TextField","Box","Paper","Stack","InputLabel","FormControl","Grid","axios","MainCard","gridSpacing","jsxDEV","_jsxDEV","Fragment","_Fragment","InputScoreCSB01","_s","data","setData","projectSelect","setProjectSelect","ID","Name","SID","SName","SID2","SName2","TID","TName","tableData","setTableData","formData","setFormData","Er_name","Er_results","Er_com","Er_status","Er_date","Er_time","examscores","setExamscores","openPopup","setOpenPopup","selectedRow","setSelectedRow","openDialog2","setOpenDialog2","fetchExamscores","response","get","Array","isArray","map","item","error","console","updateFinalScore","countPass","filter","id","score","length","countFail","prevData","saveScore","lastScore","post","status","log","handleCheckboxChange","type","handleLinkClick","index","handleSavePopup","e","preventDefault","handleSubmit","handleClosePopup","handleDonNotGoAny","updatedData","row","isRed","isDisabled","handleChange","event","selectedProjectName","target","value","selectedProject","project","find","proj","P_name","P_S1","P_S1_name","P_S2","P_S2_name","P_T_id","P_T","alert","children","container","spacing","xs","alignItems","justifyContent","fileName","_jsxFileName","lineNumber","columnNumber","onClick","variant","color","open","onClose","maxWidth","fullWidth","sx","minWidth","fontSize","marginTop","labelId","onChange","label","margin","disabled","mr","ml","width","mt","component","criteria","description","checked","_c","$RefreshReg$"],"sources":["C:/test/create-react-app/src/views/utilities/InputScoreCSB01.js"],"sourcesContent":["// import React, { useState, useEffect } from 'react';\r\n// import { Table, Grid, Paper, TextField, TableBody, TableCell, TableContainer, TableHead, TableRow, Button, Dialog, DialogTitle, DialogContent, DialogActions } from '@mui/material';\r\n// import axios from 'axios';\r\n// import MainCard from 'ui-component/cards/MainCard';\r\n// import { gridSpacing } from 'store/constant';\r\n\r\n// const InputScoreCSB01 = () => {\r\n//   const [projects, setProjects] = useState([]); // State for storing project data from API\r\n//   const [openPopup, setOpenPopup] = useState(false); // State for managing the popup\r\n//   const [selectedProject, setSelectedProject] = useState(null); // State for the selected project\r\n//   const [data, setData] = useState([\r\n//     { id: 1, name: 'การวิเคราะห์ปัญหา(Problem Analysis)', description: [\r\n//         '1. มีการระบุที่มาของปัญหา',\r\n//         '2. มีการนำเสนอข้อมูลทางสถิติหรือหลักฐานเพื่อสนับสนุนความสำคัญของปัญหา',\r\n//         '3. มีอ้างอิงแหล่งข้อมูลที่น่าเชื่อถือ'], score: ''\r\n//     },\r\n//     { id: 2, name: 'แนวคิด/ แนวทางของระบบ(Solution)', description: [\r\n//         '1. มีความสามารถแก้ปัญหาได้แท้จริง ตรงเป้า',\r\n//         '2. มีวิธีการที่นำเสนอที่มีประสิทธิภาพ'], score: ''\r\n//     },\r\n//     { id: 3, name: 'ขอบเขตและปริมาณงาน(Scope)', description: [\r\n//         '1. มีลักษณะและปริมาณงานเหมาะสมสำหรับปริญญานิพนธ์',\r\n//         '2. มีความเหมาะสมตามกรอบเวลา'], score: ''\r\n//     },\r\n//     { id: 4, name: 'ต้นแบบระบบ(System Prototype)', description: [\r\n//         'มีการนำเสนอต้นแบบระบบด้วยเครื่องมือที่มีความเหมาะสม เช่น Mockup, wireframe, story board และ system architecture'], score: ''\r\n//     },\r\n//     { id: 5, name: 'ลักษณะของกลุ่มผู้ใช้งาน(Target market)', description: [\r\n//         '1. มีการกำหนดเป้าหมายสำหรับการใช้งานระบบอย่างชัดเจน',\r\n//         '2. มีการศึกษาลักษณะกลุ่มเป้าหมาย',\r\n//         '3. มีการศึกษาผลกระทบที่คาดว่าจะเกิดต่อกลุ่มเป้าหมาย'], score: ''\r\n//     },\r\n//     { id: 6, name: 'การวิเคราะห์การตลาด (Market analysis)', description: [\r\n//         '1. มีการนำเสนอระบบที่ใกล้เคียง/ที่เกี่ยวข้องอย่างน้อย 2 ระบบ',\r\n//         '2. มีการระบุข้อจำกัดของระบบที่ใกล้เคียงหรือเกี่ยวข้อง',\r\n//         '3. มีการระบุความแตกต่างหรือจุดเด่นของระบบที่นำเสนอ'], score: ''\r\n//     },\r\n//     { id: 7, name: 'การศึกษาความเป็นไปได้ (Feasibility study)', description: [\r\n//         '1. มีการนำเสนอการศึกษาเทคนิคที่เกี่ยวข้องเบื้องต้น',\r\n//         '2. มีการศึกษาข้อจำกัดของอุปกรณ์/ระบบที่เกี่ยวข้อง'], score: ''\r\n//     },\r\n//     { id: 8, name: 'ผลการประเมิน', score: '' }\r\n//   ]);\r\n\r\n//   useEffect(() => {\r\n//     // Fetch project data from API when the component loads\r\n//     axios\r\n//       .get('http://localhost:9999/Project')\r\n//       .then((response) => {\r\n//         setProjects(response.data); // Set project data in state\r\n//       })\r\n//       .catch((error) => {\r\n//         console.error('Error fetching projects:', error);\r\n//       });\r\n//   }, []);\r\n\r\n//   const handleCheckboxChange = (id, type) => {\r\n//     setData(prevData =>\r\n//       prevData.map(item =>\r\n//         item.id === id\r\n//           ? { ...item, score: type === 'yes' ? 'ผ่าน' : 'ไม่ผ่าน' }\r\n//           : item\r\n//       )\r\n//     );\r\n//   };\r\n\r\n//   useEffect(() => {\r\n//     if (Array.isArray(data)) {\r\n//       updateFinalScore();\r\n//     }\r\n//   }, [data]);\r\n\r\n//   const updateFinalScore = () => {\r\n//     const countPass = data\r\n//       .filter(item => item.id >= 1 && item.id <= 7)\r\n//       .filter(item => item.score === 'ผ่าน').length;\r\n\r\n//     const countFail = data\r\n//       .filter(item => item.id >= 1 && item.id <= 7)\r\n//       .filter(item => item.score === 'ไม่ผ่าน').length;\r\n\r\n//     if (countFail >= 4) {\r\n//       setData(prevData =>\r\n//         prevData.map(item =>\r\n//           item.id === 8\r\n//             ? { ...item, score: 'ไม่ผ่านการประเมินหัวข้อ' }\r\n//             : item\r\n//         )\r\n//       );\r\n//     } else if (countPass >= 4) {\r\n//       setData(prevData =>\r\n//         prevData.map(item =>\r\n//           item.id === 8\r\n//             ? { ...item, score: 'ผ่านการประเมินหัวข้อ' }\r\n//             : item\r\n//         )\r\n//       );\r\n//     }\r\n//   };\r\n\r\n//   const handleOpenPopup = (project) => {\r\n//     setSelectedProject(project); // Set selected project to evaluate\r\n//     setOpenPopup(true); // Open the evaluation popup\r\n//   };\r\n\r\n//   const handleClosePopup = () => {\r\n//     setOpenPopup(false); // Close the popup\r\n//   };\r\n\r\n//   const handleDonNotGoAny = () => {\r\n//     alert('การดำเนินการไม่เข้าร่วมประเมินทั้งหมด');\r\n//   };\r\n\r\n//   const handleSavePopup = async (e) => {\r\n//     e.preventDefault();\r\n//     handleSubmit(e);\r\n//     setOpenPopup(false);\r\n//     saveScore();\r\n//   };\r\n\r\n//   const saveScore = async () => {\r\n//     const lastScore = data.find(item => item.id === 8)?.score || '';\r\n  \r\n//     try {\r\n//       const response = await axios.post('http://localhost:9999/Exam_results', {\r\n//         Er_results: lastScore,\r\n//       });\r\n  \r\n//       if (response.status === 200) {\r\n//         console.log('Score saved successfully!', response.data);\r\n//       } else {\r\n//         console.error('Failed to save score. Response:', response);\r\n//       }\r\n//     } catch (error) {\r\n//       console.error('Error saving score:', error.response ? error.response.data : error.message);\r\n//     }\r\n//   };\r\n\r\n//   const handleSubmit = async (e) => {\r\n//     e.preventDefault();\r\n//     try {\r\n//       const response = await axios.post('http://localhost:9999/Exam_results', formData);\r\n//       console.log('Subject added:', response.data);\r\n//       alert(\"Subject added successfully!\");\r\n//       // Reset form after successful submission\r\n//       setFormData({\r\n//         Er_name: '',\r\n//         Er_results: '',\r\n//         Er_com: '',\r\n//         Er_status: '',\r\n//         Er_date: '',\r\n//         Er_time: ''\r\n//       });\r\n//     } catch (error) {\r\n//       console.error('Error adding subject:', error);\r\n//       alert(\"Failed to add subject. Please try again later.\");\r\n//     }\r\n//   };\r\n\r\n//   return (\r\n//     <MainCard>\r\n//       <Grid container spacing={gridSpacing}>\r\n//         <Grid item xs={12}>\r\n//           <h1>ประเมินการสอบหัวข้อโครงงานพิเศษ</h1>\r\n//           <Button onClick={handleDonNotGoAny} variant=\"contained\" color=\"error\">\r\n//             ไม่เข้าร่วมประเมินทั้งหมด\r\n//           </Button>\r\n\r\n//           <TableContainer component={Paper} style={{ marginTop: '20px' }}>\r\n//             <Table>\r\n//               <TableHead>\r\n//                 <TableRow>\r\n//                   <TableCell>ลำดับที่</TableCell>\r\n//                   <TableCell>ชื่อโครงงาน</TableCell>\r\n//                   <TableCell>ประเมินการสอบโครงงานพิเศษ</TableCell>\r\n//                   <TableCell>ไม่ประสงค์ลงคะแนนสอบ</TableCell>\r\n//                   <TableCell>ไม่เข้าประเมินการสอบ</TableCell>\r\n//                 </TableRow>\r\n//               </TableHead>\r\n//               <TableBody>\r\n//                 {projects.map((project, index) => (\r\n//                   <TableRow key={project.P_id}>\r\n//                     <TableCell>{index + 1}</TableCell>\r\n//                     <TableCell>{project.P_name}</TableCell>\r\n//                     <TableCell>\r\n//                       <Button\r\n//                         onClick={() => handleOpenPopup(project)}\r\n//                         variant=\"outlined\"\r\n//                       >\r\n//                         ประเมิน\r\n//                       </Button>\r\n//                     </TableCell>\r\n//                     <TableCell>\r\n//                       <Button\r\n//                         onClick={() => alert(`ไม่ประสงค์ลงคะแนนสอบสำหรับโครงงาน: ${project.P_name}`)}\r\n//                         variant=\"outlined\"\r\n//                       >\r\n//                         ไม่ประสงค์ลงคะแนนสอบ\r\n//                       </Button>\r\n//                     </TableCell>\r\n//                     <TableCell>\r\n//                       <Button\r\n//                         onClick={() => alert(`ไม่เข้าประเมินการสอบสำหรับโครงงาน: ${project.P_name}`)}\r\n//                         variant=\"outlined\"\r\n//                       >\r\n//                         ไม่เข้าประเมินการสอบ\r\n//                       </Button>\r\n//                     </TableCell>\r\n//                   </TableRow>\r\n//                 ))}\r\n//               </TableBody>\r\n//             </Table>\r\n//           </TableContainer>\r\n\r\n//           {/* Evaluation Popup */}\r\n//           <Dialog open={openPopup} onClose={handleClosePopup} maxWidth=\"md\" fullWidth>\r\n//             <DialogTitle>ประเมินโครงงาน: {selectedProject?.P_name}</DialogTitle>\r\n//             <DialogContent>\r\n//               {selectedProject && (\r\n//                 <>\r\n//                   <h3>นักศึกษาคนที่ 1: {selectedProject.P_S1}</h3>\r\n//                   <h3>นักศึกษาคนที่ 2: {selectedProject.P_S2}</h3>\r\n//                   <h3>อาจารย์ที่ปรึกษา: {selectedProject.P_T}</h3>\r\n//                   <h2>ตารางลงคะแนนสำหรับกรรมการสอบ</h2>\r\n//                   <TableContainer component={Paper}>\r\n//                     <Table>\r\n//                       <TableHead>\r\n//                         <TableRow>\r\n//                           <TableCell>ลำดับที่</TableCell>\r\n//                           <TableCell>เกณฑ์พิจารณา</TableCell>\r\n//                           <TableCell>คำอธิบาย</TableCell>\r\n//                           <TableCell>ผลการประเมิน</TableCell>\r\n//                         </TableRow>\r\n//                       </TableHead>\r\n//                       <TableBody>\r\n//                         {data.map((item, index) => (\r\n//                           <TableRow key={item.id}>\r\n//                             <TableCell>{item.id}</TableCell>\r\n//                             <TableCell>{item.name}</TableCell>\r\n//                             <TableCell>\r\n//                               <ul>\r\n//                                 {(item.description || []).map((desc, idx) => (\r\n//                                   <li key={idx}>{desc}</li>\r\n//                                 ))}\r\n//                               </ul>\r\n//                             </TableCell>\r\n//                             <TableCell>\r\n//                               {item.id === 8 ? (\r\n//                                 <TextField value={item.score} disabled fullWidth margin=\"none\" />\r\n//                               ) : (\r\n//                                 <div>\r\n//                                   <label htmlFor={`pass-${index}`}>\r\n//                                     <input\r\n//                                       type=\"radio\"\r\n//                                       id={`pass-${index}`}\r\n//                                       checked={item.score === \"ผ่าน\"}\r\n//                                       onChange={() => handleCheckboxChange(item.id, \"yes\")}\r\n//                                     />\r\n//                                     ผ่าน\r\n//                                   </label>\r\n//                                   <label htmlFor={`fail-${index}`}>\r\n//                                     <input\r\n//                                       type=\"radio\"\r\n//                                       id={`fail-${index}`}\r\n//                                       checked={item.score === \"ไม่ผ่าน\"}\r\n//                                       onChange={() => handleCheckboxChange(item.id, \"no\")}\r\n//                                     />\r\n//                                     ไม่ผ่าน\r\n//                                   </label>\r\n//                                 </div>\r\n//                               )}\r\n//                             </TableCell>\r\n//                           </TableRow>\r\n//                         ))}\r\n//                       </TableBody>\r\n//                     </Table>\r\n//                   </TableContainer>\r\n//                 </>\r\n//               )}\r\n//             </DialogContent>\r\n//             <DialogActions>\r\n//               <Button onClick={handleClosePopup} color=\"secondary\">\r\n//                 ยกเลิก\r\n//               </Button>\r\n//               <Button onClick={handleSavePopup} variant=\"contained\" color=\"primary\">\r\n//                 บันทึกการประเมิน\r\n//               </Button>\r\n//             </DialogActions>\r\n//           </Dialog>\r\n//         </Grid>\r\n//       </Grid>\r\n//     </MainCard>\r\n//   );\r\n// };\r\n\r\n// export default InputScoreCSB01;\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport {\r\n  Table, Checkbox, TableBody, TableCell, TableContainer, TableHead, TableRow,\r\n  Button, Dialog, DialogTitle, DialogContent, DialogActions, Select, MenuItem,\r\n  TextField, Box, Paper, Stack, InputLabel, FormControl, Grid\r\n} from '@mui/material';\r\nimport axios from 'axios';\r\nimport MainCard from 'ui-component/cards/MainCard';\r\nimport { gridSpacing } from 'store/constant';\r\n\r\nconst InputScoreCSB01 = () => {\r\n  const [data, setData] = useState([\r\n    // Initial data setup for evaluation criteria\r\n  ]);\r\n\r\n  const [projectSelect, setProjectSelect] = useState({\r\n    ID: '',\r\n    Name: '',\r\n    SID: '',\r\n    SName: '',\r\n    SID2: '',\r\n    SName2: '',\r\n    TID: '',\r\n    TName: '',\r\n  });\r\n\r\n  const [tableData, setTableData] = useState([]);\r\n  const [formData, setFormData] = useState({\r\n    Er_name: '',\r\n    Er_results: '',\r\n    Er_com: '',\r\n    Er_status: '',\r\n    Er_date: '',\r\n    Er_time: ''\r\n  });\r\n\r\n  const [examscores, setExamscores] = useState([]);\r\n  const [openPopup, setOpenPopup] = useState(false);\r\n  const [selectedRow, setSelectedRow] = useState(null);\r\n  const [openDialog2, setOpenDialog2] = useState(false);\r\n\r\n  useEffect(() => {\r\n    // Fetch examscores and initialize other state\r\n    const fetchExamscores = async () => {\r\n      try {\r\n        const response = await axios.get('http://localhost:9999/Exam_results');\r\n        if (response.data && Array.isArray(response.data)) {\r\n          setExamscores(response.data.map(item => item.Er_name));\r\n        }\r\n      } catch (error) {\r\n        console.error('Error fetching subject names:', error);\r\n      }\r\n    };\r\n    fetchExamscores();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    updateFinalScore();\r\n  }, [data]);\r\n\r\n  const updateFinalScore = () => {\r\n    const countPass = data.filter(item => item.id >= 1 && item.id <= 7 && item.score === 'ผ่าน').length;\r\n    const countFail = data.filter(item => item.id >= 1 && item.id <= 7 && item.score === 'ไม่ผ่าน').length;\r\n\r\n    setData(prevData =>\r\n      prevData.map(item =>\r\n        item.id === 8\r\n          ? { ...item, score: countFail >= 4 ? 'ไม่ผ่านการประเมินหัวข้อ' : countPass >= 4 ? 'ผ่านการประเมินหัวข้อ' : item.score }\r\n          : item\r\n      )\r\n    );\r\n  };\r\n\r\n  const saveScore = async () => {\r\n    const lastScore = data[data.length - 1].score;\r\n\r\n    try {\r\n      const response = await axios.post('http://localhost:9999/Exam_results', {\r\n        Er_results: lastScore,\r\n      });\r\n\r\n      if (response.status === 200) {\r\n        console.log('Score saved successfully!');\r\n      } else {\r\n        console.error('Failed to save score');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error:', error);\r\n    }\r\n  };\r\n\r\n  const handleCheckboxChange = (id, type) => {\r\n    setData(prevData =>\r\n      prevData.map(item =>\r\n        item.id === id\r\n          ? { ...item, score: type === 'yes' ? 'ผ่าน' : 'ไม่ผ่าน' }\r\n          : item\r\n      )\r\n    );\r\n  };\r\n\r\n  const handleLinkClick = (index) => {\r\n    setOpenPopup(true);\r\n    setSelectedRow(index);\r\n  };\r\n\r\n  const handleSavePopup = async (e) => {\r\n    e.preventDefault();\r\n    handleSubmit();\r\n    setOpenPopup(false);\r\n    saveScore();\r\n  };\r\n\r\n  const handleClosePopup = () => setOpenPopup(false);\r\n\r\n  const handleDonNotGoAny = () => {\r\n    const updatedData = tableData.map(row => ({ ...row, isRed: true, isDisabled: true }));\r\n    setTableData(updatedData);\r\n  };\r\n\r\n  const handleChange = (event) => {\r\n    const selectedProjectName = event.target.value;\r\n    const selectedProject = project.find((proj) => proj.P_name === selectedProjectName);\r\n\r\n    if (selectedProject) {\r\n      setProjectSelect({\r\n        ID: selectedProject.ID,\r\n        Name: selectedProject.P_name,\r\n        SID: selectedProject.P_S1,\r\n        SName: selectedProject.P_S1_name,\r\n        SID2: selectedProject.P_S2,\r\n        SName2: selectedProject.P_S2_name,\r\n        TID: selectedProject.P_T_id,\r\n        TName: selectedProject.P_T,\r\n      });\r\n    } else {\r\n      setProjectSelect({\r\n        ID: '',\r\n        Name: '',\r\n        SID: '',\r\n        SName: '',\r\n        SID2: '',\r\n        SName2: '',\r\n        TID: '',\r\n        TName: '',\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async () => {\r\n    try {\r\n      const response = await axios.post('http://localhost:9999/Exam_results', formData);\r\n      console.log('Subject added:', response.data);\r\n      alert(\"Subject added successfully!\");\r\n      setFormData({\r\n        Er_name: '',\r\n        Er_results: '',\r\n        Er_com: '',\r\n        Er_status: '',\r\n        Er_date: '',\r\n        Er_time: ''\r\n      });\r\n    } catch (error) {\r\n      console.error('Error adding subject:', error);\r\n      alert(\"Failed to add subject. Please try again later.\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <MainCard>\r\n      <Grid container spacing={gridSpacing}>\r\n        <Grid item xs={12}>\r\n          <Grid container alignItems=\"center\" justifyContent=\"space-between\">\r\n            <Grid item>\r\n              <h1>ประเมินการสอบโครงงานพิเศษ</h1>\r\n              <Button onClick={handleDonNotGoAny} variant=\"contained\" color=\"error\">ไม่เข้าร่วมประเมินทั้งหมด</Button>\r\n              <Dialog open={openPopup} onClose={handleClosePopup} maxWidth='xl' fullWidth>\r\n                <DialogTitle>แบบประเมินการสอบโครงงานพิเศษ</DialogTitle>\r\n                <DialogContent sx={{ minWidth: 1000 }}>\r\n                  {selectedRow !== null && (\r\n                    <>\r\n                      <Box fontSize=\"18px\" sx={{ marginTop: 5 }}>\r\n                        <h1>แบบประเมินหัวข้อโครงงานพิเศษ</h1>\r\n                        <p>เลือกชื่อโครงงาน</p>\r\n                        <FormControl>\r\n                          <InputLabel id=\"ProjectName-select-label\">ชื่อโครงงาน</InputLabel>\r\n                          <Select\r\n                            labelId=\"ProjectName-select-label\"\r\n                            value={projectSelect?.Name || \"\"}\r\n                            onChange={handleChange}\r\n                            label=\"ชื่อโครงงาน\"\r\n                            margin=\"normal\"\r\n                            sx={{ minWidth: 250 }}\r\n                          >\r\n                            {project.filter((proj) => proj.ID !== projectSelect.ID).map((proj) => (\r\n                              <MenuItem key={proj.ID} value={proj.Name}>{proj.Name}</MenuItem>\r\n                            ))}\r\n                          </Select>\r\n                        </FormControl>\r\n                        <br />\r\n                        <p>โดย</p>\r\n                        <TextField id=\"SID1\" label=\"รหัสนักศึกษาคนที่ 1\" value={projectSelect.SID} disabled sx={{ \"& > :not(style)\": { mr: 5, ml: 5, width: \"25ch\" } }} />\r\n                        <TextField id=\"SName1\" label=\"ชื่อ-สกุลนักศึกษาคนที่ 1\" value={projectSelect.SName} disabled sx={{ \"& > :not(style)\": { width: \"30ch\" } }} />\r\n                        <br />\r\n                        <TextField id=\"SID2\" label=\"รหัสนักศึกษาคนที่ 2\" value={projectSelect.SID2} disabled sx={{ \"& > :not(style)\": { mr: 5, ml: 5, mt: 3, width: \"25ch\" } }} />\r\n                        <TextField id=\"SName2\" label=\"ชื่อ-สกุลนักศึกษาคนที่ 2\" value={projectSelect.SName2} disabled sx={{ \"& > :not(style)\": { mt: 3, width: \"30ch\" } }} />\r\n                        <p>อาจารย์ที่ปรึกษา</p>\r\n                        <TextField id=\"TName\" label=\"ชื่ออาจารย์ที่ปรึกษา\" value={projectSelect.TName} disabled sx={{ \"& > :not(style)\": { mr: 5, ml: 5, width: \"25ch\" } }} />\r\n                        <h2>ตารางลงคะแนนสำหรับกรรมการสอบ</h2>\r\n                        <TableContainer component={Paper}>\r\n                          <Table>\r\n                            <TableHead>\r\n                              <TableRow>\r\n                                <TableCell>ลำดับที่</TableCell>\r\n                                <TableCell>เกณฑ์พิจารณา</TableCell>\r\n                                <TableCell>รายละเอียด</TableCell>\r\n                                <TableCell>คะแนน</TableCell>\r\n                              </TableRow>\r\n                            </TableHead>\r\n                            <TableBody>\r\n                              {data.map(row => (\r\n                                <TableRow key={row.id}>\r\n                                  <TableCell>{row.id}</TableCell>\r\n                                  <TableCell>{row.criteria}</TableCell>\r\n                                  <TableCell>{row.description}</TableCell>\r\n                                  <TableCell>\r\n                                    <Checkbox\r\n                                      checked={row.score === 'ผ่าน'}\r\n                                      onChange={() => handleCheckboxChange(row.id, 'yes')}\r\n                                    /> ผ่าน\r\n                                    <Checkbox\r\n                                      checked={row.score === 'ไม่ผ่าน'}\r\n                                      onChange={() => handleCheckboxChange(row.id, 'no')}\r\n                                    /> ไม่ผ่าน\r\n                                  </TableCell>\r\n                                </TableRow>\r\n                              ))}\r\n                            </TableBody>\r\n                          </Table>\r\n                        </TableContainer>\r\n                        </Box>\r\n                      </>\r\n                    )}\r\n                  </DialogContent>\r\n                  <DialogActions>\r\n                    <Button onClick={handleSavePopup}>Save</Button>\r\n                    <Button onClick={handleClosePopup}>Cancel</Button>\r\n                  </DialogActions>\r\n                </Dialog>\r\n              \r\n            </Grid>\r\n          </Grid>\r\n        </Grid>\r\n      </Grid>\r\n    </MainCard>\r\n  );\r\n};\r\n\r\nexport default InputScoreCSB01;\r\n"],"mappings":";;AAAA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;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"},"metadata":{},"sourceType":"module","externalDependencies":[]}